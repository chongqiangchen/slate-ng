{"version":3,"sources":["./src/app/examples/markdown-preview/markdown-preview.component.ts","./src/app/examples/markdown-preview/markdown-preview.component.html","./src/app/examples/editable-voids/editable-voids.component.ts","./src/app/examples/editable-voids/editable-voids.component.html","./src/app/examples/hovering-toolbar/hovering-toolbar.component.ts","./src/app/examples/hovering-toolbar/hovering-toolbar.component.html","./src/app/components/menu/menu.component.ts","./src/app/components/menu/menu.component.html","./src/app/examples/embeds/url-input/url-input.component.ts","./src/app/examples/embeds/url-input/url-input.component.html","../slate-ng-view/src/components/text/placeholder/base-placeholder.component.ts","../slate-ng-view/src/components/text/leaf/leaf.component.ts","../slate-ng-view/src/components/text/leaf/leaf.component.html","./src/app/examples/check-list/check-list-item/check-list-item.component.ts","./src/app/examples/check-list/check-list-item/check-list-item.component.html","./src/app/examples/custom-placeholder/custom-placeholder.component.ts","./src/app/examples/custom-placeholder/custom-placeholder.component.html","./src/app/components/button/button.component.ts","./src/app/components/button/button.component.html","./src/app/examples/embeds/embeds.component.ts","./src/app/examples/embeds/embeds.component.html","../slate-ng-view/src/polyfills/before-input/fallback-composition-state.ts","./src/app/examples/editable-voids/insert-editable-void-button/insert-editable-void-button.component.ts","./src/app/examples/editable-voids/insert-editable-void-button/insert-editable-void-button.component.html","./src/app/components/editor-value/editor-value.component.ts","./src/app/components/editor-value/editor-value.component.html","./src/environments/environment.ts","./src/app/examples/rich-text/element.ts","./src/app/examples/code-highlighting/custom-leaf/custom-leaf.component.ts","../slate-ng-view/src/components/element/token.ts","../slate-ng-view/src/utils/dom.ts","./src/app/examples/hovering-toolbar/format-button/format-button.component.ts","./src/app/examples/hovering-toolbar/format-button/format-button.component.html","../slate-ng-view/src/polyfills/before-input/dom-top-level-event-types.ts","../slate-ng-view/src/utils/environment.ts","./src/app/examples/rich-text/rich-text.component.ts","./src/app/examples/rich-text/rich-text.component.html","./src/app/examples/code-highlighting/code-highlighting.component.ts","./src/app/examples/code-highlighting/code-highlighting.component.html","../slate-ng-view/src/components/text/leaf/base-leaf.component.ts","./src/app/examples/huge-document/huge-document-h1.ts","../slate-ng-view/src/components/text/leaf-child/leaf-child.component.ts","../slate-ng-view/src/components/text/leaf-child/leaf-child.component.html","./src/app/examples/custom-placeholder/custom-placeholder.ts","../slate-ng-view/src/components/children/children.component.ts","../slate-ng-view/src/components/children/children.component.html","../slate-ng-view/src/components/portal-entry/portal-entry.component.ts","../slate-ng-view/src/components/portal-entry/portal-entry.component.html","../slate-ng-view/src/components/text/text.component.ts","../slate-ng-view/src/components/text/text.component.html","../slate-ng-view/src/components/element/element.component.ts","../slate-ng-view/src/components/element/element.component.html","./src/app/examples/huge-document/huge-document.component.ts","./src/app/examples/huge-document/huge-document.component.html","./src/app/examples/iframe/iframe.component.ts","./src/app/examples/iframe/iframe.component.html","./src/app/examples/embeds/video-element/video-element.component.ts","./src/app/examples/embeds/video-element/video-element.component.html","../slate-ng-view/src/polyfills/composition/composition-event-plugin.ts","../slate-ng-view/src/index.ts","../slate-ng-view/src/slate-ng.module.ts","../slate-ng-view/src/components/text/placeholder/placeholder.component.ts","./src/app/app.component.ts","./src/app/app.component.html","../slate-ng-view/src/utils/range-list.ts","../slate-ng-view/src/utils/convert.ts","../slate-ng-view/src/utils/key.ts","./src/app/components/icon/icon.component.ts","./src/app/components/icon/icon.component.html","../slate-ng-view/src/services/registry-ns-element.service.ts","./src/app/app.module.ts","../slate-ng-view/src/directives/placeholder-attrs.directive.ts","../slate-ng-view/src/components/element/base-element.ts","../slate-ng-view/src/plugins/angular-editor.ts","./src/app/components/instruction/instruction.component.ts","./src/app/components/instruction/instruction.component.html","../slate-ng-view/src/utils/hotkeys.ts","./src/app/placeholder/placeholder.component.ts","./src/app/placeholder/placeholder.component.html","./src/app/examples/editable-voids/editable-void/editable-void.component.ts","./src/app/examples/editable-voids/editable-void/editable-void.component.html","./src/app/examples/forced-layout/forced-layout.component.ts","./src/app/examples/forced-layout/forced-layout.component.html","./src/app/examples/markdown-shortcuts/markdown-shortcuts.component.ts","./src/app/examples/markdown-shortcuts/markdown-shortcuts.component.html","./src/app/examples/hovering-toolbar/portal/portal.component.ts","./src/app/examples/hovering-toolbar/portal/portal.component.html","../slate-ng-view/src/public-api.ts","../slate-ng-view/src/utils/common.ts","../slate-ng-view/src/utils/object-set.ts","../slate-ng-view/src/components/editable/editable.component.ts","./src/app/examples/iframe/iframe-container/iframe-container.component.ts","./src/app/examples/iframe/iframe-container/iframe-container.component.html","../slate-ng-view/src/utils/weak-maps.ts","./src/app/components/toolbar/toolbar.component.ts","./src/app/components/toolbar/toolbar.component.html","./src/app/examples/table/table.component.ts","./src/app/examples/table/table.component.html","./src/app/examples/rich-text/custom-leaf/leaf-item/leaf-item.component.ts","./src/app/examples/rich-text/custom-leaf/leaf-item/leaf-item.component.html","../slate-ng-view/src/plugins/with-angular.ts","./src/app/examples/check-list/check-list.component.ts","./src/app/examples/check-list/check-list.component.html","../slate-ng-view/src/polyfills/before-input/before-input-event-plugin.ts","../slate-ng-view/src/utils/lines.ts","../slate-ng-view/src/polyfills/before-input/extract-event.ts","./src/app/examples/table/element.ts","./src/app/examples/rich-text/custom-leaf/custom-leaf.component.ts","./src/app/examples/rich-text/custom-leaf/custom-leaf.component.html","./src/app/examples/embeds/safe-url.pipe.ts","../slate-ng-view/src/components/text/base-text.ts","./src/app/examples/markdown-preview/markdown-leaf.component.ts","./src/app/app-routing.module.ts","./src/app/examples/rich-text/icon-button/icon-button.component.ts","./src/app/examples/rich-text/icon-button/icon-button.component.html","../slate-ng-view/src/services/ns-editor.service.ts","../slate-ng-view/src/directives/leaf-attrs.directive.ts","../slate-ng-view/src/services/ns-deps.service.ts","../slate-ng-view/src/directives/element-attrs.directive.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { createEditor, Descendant, Text } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport Prism from 'prismjs';\nimport { MarkdownLeafComponent } from './markdown-leaf.component';\n\n@Component({\n  selector: 'app-markdown-preview',\n  templateUrl: './markdown-preview.component.html',\n  styleUrls: ['./markdown-preview.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class MarkdownPreviewComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Slate is flexible enough to add **decorations** that can format text based on its content. For example, this editor has **Markdown** preview decorations on it, to make it _dead_ simple to make an editor with built-in Markdown previewing.',\n        },\n      ],\n    },\n    {\n      type: 'paragraph',\n      children: [{ text: '## Try it out!' }],\n    },\n    {\n      type: 'paragraph',\n      children: [{ text: 'Try it out for yourself!' }],\n    },\n  ];\n  editor = withHistory(withAngular(createEditor()));\n  decorate = ([node, path]) => {\n    const ranges = [];\n\n    if (!Text.isText(node)) {\n      return ranges;\n    }\n\n    const getLength = token => {\n      if (typeof token === 'string') {\n        return token.length;\n      } else if (typeof token.content === 'string') {\n        return token.content.length;\n      } else {\n        return token.content.reduce((l, t) => l + getLength(t), 0);\n      }\n    };\n\n    const tokens = Prism.tokenize(node.text, Prism.languages.markdown);\n    let start = 0;\n\n    for (const token of tokens) {\n      const length = getLength(token);\n      const end = start + length;\n\n      if (typeof token !== 'string') {\n        ranges.push({\n          [token.type]: true,\n          anchor: { path, offset: start },\n          focus: { path, offset: end },\n        });\n      }\n\n      start = end;\n    }\n\n    return ranges;\n  }\n\n  constructor(\n    private customElementService: RegistryNsElement\n  ) { }\n\n  ngOnInit(): void {\n    this.customElementService.add([MarkdownLeafComponent]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Write some markdown...\"\n  [decorate]=\"decorate\"\n></div>\n","import { Component, OnInit } from '@angular/core';\nimport { createEditor, Descendant } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { EditableVoidComponent } from './editable-void/editable-void.component';\n\nconst withEditableVoids = editor => {\n  const { isVoid } = editor;\n\n  editor.isVoid = element => {\n    return element.type === 'editable-void' ? true : isVoid(element);\n  };\n\n  return editor;\n};\n\n@Component({\n  selector: 'app-editable-voids',\n  templateUrl: './editable-voids.component.html',\n  styleUrls: ['./editable-voids.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class EditableVoidsComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'In addition to nodes that contain editable text, you can insert void nodes, which can also contain editable elements, inputs, or an entire other Slate editor.',\n        },\n      ],\n    },\n    {\n      type: 'editable-void',\n      children: [{ text: '' }],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text: '',\n        },\n      ],\n    },\n  ];\n  editor = withEditableVoids(withHistory(withAngular(createEditor())));\n\n  constructor(\n    private custom: RegistryNsElement,\n  ) {}\n\n  ngOnInit(): void {\n    this.custom.add([EditableVoidComponent]);\n  }\n\n}\n","<app-toolbar>\n  <app-insert-editable-void-button></app-insert-editable-void-button>\n</app-toolbar>\n<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Enter some text...\"\n></div>\n","import { ChangeDetectorRef, Component, ElementRef, InjectionToken, Injector, OnInit, ViewChild } from '@angular/core';\nimport { createEditor, Descendant, Editor, Text, Transforms } from 'slate';\nimport { NsDepsService, NsEditorService, RegistryNsElement, withAngular } from 'slate-ng-view';\nimport { CustomLeafComponent } from '../rich-text/custom-leaf/custom-leaf.component';\nimport { withHistory } from 'slate-history';\nimport { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { PortalComponent } from './portal/portal.component';\n\nconst EDITOR_TOKEN = new InjectionToken('editor_token');\n\n@Component({\n  selector: 'app-hovering-toolbar',\n  templateUrl: './hovering-toolbar.component.html',\n  styleUrls: ['./hovering-toolbar.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class HoveringToolbarComponent implements OnInit {\n\n  constructor(\n    private editorService: NsEditorService,\n    private registryNsElement: RegistryNsElement,\n    private overlay: Overlay,\n    private cdr: ChangeDetectorRef,\n    private injector: Injector\n  ) {\n  }\n  @ViewChild('nsEditor', { read: ElementRef }) nsEditor: ElementRef;\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'This example shows how you can make a hovering menu appear above your content, which you can use to make text '\n        },\n        { text: 'bold', bold: true },\n        { text: ', ' },\n        { text: 'italic', italic: true },\n        { text: ', or anything else you might want to do!' }\n      ]\n    },\n    {\n      type: 'paragraph',\n      children: [\n        { text: 'Try it out yourself! Just ' },\n        { text: 'select any piece of text and the menu will appear', bold: true },\n        { text: '.' }\n      ]\n    }\n  ];\n  editor = withHistory(withAngular(createEditor()));\n  overlayRef: OverlayRef;\n\n  handleOnBeforeInput = (event: InputEvent) => {\n    event.preventDefault();\n    switch (event.inputType) {\n      case 'formatBold':\n        return this.toggleFormat('bold');\n      case 'formatItalic':\n        return this.toggleFormat('italic');\n      case 'formatUnderline':\n        return this.toggleFormat('underlined');\n    }\n  }\n\n  ngOnInit(): void {\n    this.registryNsElement.add([CustomLeafComponent]);\n  }\n\n  show = ($event: Event) => {\n    const domSelection = window.getSelection();\n    if (domSelection.isCollapsed) {\n      this.hide();\n      return;\n    }\n    this.hide();\n    this.showToolbar();\n  }\n\n  hide() {\n    if (this.overlayRef?.hasAttached()) {\n      this.overlayRef.detach();\n      this.overlayRef.dispose();\n    }\n  }\n\n  private showToolbar() {\n    const overlayRef = this.overlay.create({ positionStrategy: this.getPosition(), hasBackdrop: false });\n    this.overlayRef = overlayRef;\n    const comPortal = new ComponentPortal(PortalComponent, null, Injector.create([], this.injector));\n    overlayRef.attach(comPortal);\n  }\n\n  private getPosition() {\n    const domSelection = window.getSelection();\n    const domRange = domSelection.getRangeAt(0);\n    const rect = domRange.getBoundingClientRect();\n    return this.overlay.position()\n      .connectedTo(this.nsEditor,\n        { originX: 'start', originY: 'top' },\n        { overlayX: 'start', overlayY: 'bottom' })\n      .withOffsetX(rect.x)\n      .withOffsetY(rect.y);\n  }\n\n  private toggleFormat(format) {\n    const isActive = this.isFormatActive(this.editorService.editor, format);\n    Transforms.setNodes(\n      this.editorService.editor,\n      { [format]: isActive ? null : true },\n      { match: Text.isText, split: true }\n    );\n  }\n\n  private isFormatActive(editor, format) {\n    const [match] = Editor.nodes(editor, {\n      match: n => n[format] === true,\n      mode: 'all'\n    });\n    return !!match;\n  }\n\n}\n\n","<div\n  #nsEditor\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Enter some text...\"\n  [nsOnBeforeInput]=\"handleOnBeforeInput\"\n  (click)=\"show($event)\"\n  (blur)=\"hide()\"\n></div>\n","import { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.less']\n})\nexport class MenuComponent implements OnInit {\n  @Input() className: string;\n  @Input() customStyle: any;\n  _classMap = {};\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this._classMap = {\n      [this.className]: true,\n    }\n  }\n\n}\n","<div\n  [ngClass]=\"_classMap\"\n  [style]=\"customStyle\"\n  class=\"menu\"\n>\n  <ng-content></ng-content>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-url-input',\n  templateUrl: './url-input.component.html',\n  styleUrls: ['./url-input.component.less']\n})\nexport class UrlInputComponent implements OnInit {\n  @Input() url: string;\n  @Output() urlChange = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  handleChange($event: any) {\n    this.urlChange.emit($event);\n  }\n}\n","<input\n  class=\"url-input\"\n  [ngModel]=\"url\"\n  (ngModelChange)=\"handleChange($event)\"\n  (click)=\"$event.stopPropagation()\"\n/>\n","import { Directive, Host, HostBinding } from \"@angular/core\";\n\n@Directive()\nexport abstract class BasePlaceholderComponent {\n  @HostBinding('attr.data-slate-placeholder') dataSlatePlaceholder = true;\n  @HostBinding('attr.contentEditable') contentEditable = false;\n  @HostBinding('style.display') styleDisplay = 'block';\n  @HostBinding('style.pointer-events') stylePointerEvent = 'none';\n  @HostBinding('style.user-select') styleUserSelect = 'none';\n  @HostBinding('style.text-decoration') styleTextDecoration = 'none';\n  @HostBinding('style.position') stylePosition = 'absolute';\n  @HostBinding('style.width') styleWidth = '100%';\n  @HostBinding('style.max-width') styleMaxWidth = '100%';\n  @HostBinding('style.opacity') styleOpacity = 0.333;\n  @HostBinding('style.top') styleTop = 0;\n}\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\nimport { LEAF_CHILD_PORTAL_TOKEN } from '../../element/token';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { BaseLeafComponent } from './base-leaf.component';\n\n@Component({\n  selector: 'span[ns-leaf]',\n  templateUrl: './leaf.component.html',\n  styleUrls: ['./leaf.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class LeafComponent extends BaseLeafComponent {\n  constructor(\n    @Inject(LEAF_CHILD_PORTAL_TOKEN) readonly leafChild: ComponentPortal<any>\n  ) {\n    super();\n  }\n}\n","<ng-template [cdkPortalOutlet]=\"leafChild\"></ng-template>\n","import {\n  AfterContentChecked,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  OnInit\n} from \"@angular/core\";\nimport { AngularEditor, BaseElementComponent, NsEditorService, Key, KEY_TOKEN, NsDepsService } from \"slate-ng-view\";\nimport { Element as SlateElement, Transforms } from \"slate\";\n\n@Component({\n  selector: \"div[check-list-item]\",\n  templateUrl: \"./check-list-item.component.html\",\n  styleUrls: [\"./check-list-item.component.less\"],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckListItemComponent extends BaseElementComponent implements OnInit {\n  static type = 'check-list-item';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef,\n  ) {\n    super(key, deps, editorService, elementRef, cdr);\n  }\n\n  ngOnInit(): void {\n    this.init();\n    this.watchDeps();\n  }\n\n  handleCheckboxChange($event: any) {\n    const path = AngularEditor.findPath(this.editorService.editor, this.cNode);\n    const newProperties: Partial<SlateElement & {checked: boolean}> = {\n      checked: $event.target?.checked\n    };\n    Transforms.setNodes(this.editorService.editor, newProperties, { at: path });\n  }\n}\n","<span [attr.contenteditable]=\"false\" class=\"checkbox\">\n  <input type=\"checkbox\" [checked]=\"this.cNode?.checked\" (change)=\"handleCheckboxChange($event)\" />\n</span>\n<span\n  [attr.contenteditable]=\"true\"\n  class=\"child\"\n  [ngStyle]=\"{\n    opacity: this.cNode?.checked ? 0.666 : 1,\n    'text-decoration': this.cNode?.checked ? 'none' : 'line-through'\n  }\"\n>\n  <ns-portal-entry [portals]=\"portals\"></ns-portal-entry>\n</span>\n","import { Component, OnInit } from '@angular/core';\nimport { withHistory } from 'slate-history';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { createEditor, Descendant } from 'slate';\nimport { CustomPlaceholder } from './custom-placeholder';\n\n@Component({\n  selector: 'app-custom-placeholder',\n  templateUrl: './custom-placeholder.component.html',\n  styleUrls: ['./custom-placeholder.component.less'],\n  providers: [NsDepsService, RegistryNsElement, NsEditorService]\n})\nexport class CustomPlaceholderComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [{ text: '' }],\n    },\n  ];\n\n  editor = withHistory(withAngular(createEditor()));\n\n  constructor(\n    private customElement: RegistryNsElement,\n  ) { }\n\n  ngOnInit(): void {\n    this.customElement.add([CustomPlaceholder]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Type something\"\n></div>\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from \"@angular/core\";\n\n@Component({\n  selector: 'app-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.less']\n})\nexport class ButtonComponent implements OnInit {\n  @Input() className: string;\n  @Input() reversed: boolean;\n  @Input() active: boolean;\n\n  @Output() onMouseDown = new EventEmitter();\n\n  get color() {\n    return this.reversed\n      ? this.active\n        ? 'white'\n        : '#aaa'\n      : this.active\n        ? 'black'\n        : '#ccc'\n  }\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<span\n  [ngClass]=\"className\"\n  [ngStyle]=\"{\n    cursor: 'pointer',\n    color: color\n  }\"\n  (mousedown)=\"onMouseDown.emit($event)\"\n>\n  <ng-content></ng-content>\n</span>\n","import { Component, OnInit } from '@angular/core';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { createEditor } from 'slate';\nimport { VideoElementComponent } from './video-element/video-element.component';\n\n\nconst withEmbeds = editor => {\n  const { isVoid } = editor;\n  editor.isVoid = element => (element.type === 'video' ? true : isVoid(element));\n  return editor;\n};\n\n\n@Component({\n  selector: 'app-embeds',\n  templateUrl: './embeds.component.html',\n  styleUrls: ['./embeds.component.less'],\n  providers: [NsDepsService, RegistryNsElement, NsEditorService]\n})\nexport class EmbedsComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'In addition to simple image nodes, you can actually create complex embedded nodes. For example, this one contains an input element that lets you change the video being rendered!',\n        },\n      ],\n    },\n    {\n      type: 'video',\n      url: 'https://player.vimeo.com/video/26689853?title=0&byline=0&portrait=0',\n      children: [{ text: '' }],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Try it out! This editor is built to handle Vimeo embeds, but you could handle any type.',\n        },\n      ],\n    },\n  ];\n  editor = withEmbeds(withAngular(createEditor()));\n\n  constructor(\n    private customElement: RegistryNsElement\n  ) { }\n\n  ngOnInit(): void {\n    this.customElement.add([VideoElementComponent]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Enter some text...\"\n></div>\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * These variables store information about text content of a target node,\n * allowing comparison of content before and after a given event.\n *\n * Identify the node where selection currently begins, then observe\n * both its text content and its current position in the DOM. Since the\n * browser may natively replace the target node during composition, we can\n * use its position to find its replacement.\n */\n\nlet root = null;\nlet startText = null;\nlet fallbackText = null;\n\nexport function initialize(nativeEventTarget) {\n    root = nativeEventTarget;\n    startText = getText();\n    return true;\n}\n\nexport function reset() {\n    root = null;\n    startText = null;\n    fallbackText = null;\n}\n\nexport function getData() {\n    if (fallbackText) {\n        return fallbackText;\n    }\n\n    let start;\n    const startValue = startText;\n    const startLength = startValue.length;\n    let end;\n    const endValue = getText();\n    const endLength = endValue.length;\n\n    for (start = 0; start < startLength; start++) {\n        if (startValue[start] !== endValue[start]) {\n            break;\n        }\n    }\n\n    const minEnd = startLength - start;\n    for (end = 1; end <= minEnd; end++) {\n        if (startValue[startLength - end] !== endValue[endLength - end]) {\n            break;\n        }\n    }\n\n    const sliceTail = end > 1 ? 1 - end : undefined;\n    fallbackText = endValue.slice(start, sliceTail);\n    return fallbackText;\n}\n\nexport function getText() {\n    if ('value' in root) {\n        return root.value;\n    }\n    return root.textContent;\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NsEditorService } from 'slate-ng-view';\nimport { Transforms } from 'slate';\nimport { EditableVoidElement } from '../../../../../custom-types';\n\n@Component({\n  selector: 'app-insert-editable-void-button',\n  templateUrl: './insert-editable-void-button.component.html',\n  styleUrls: ['./insert-editable-void-button.component.less']\n})\nexport class InsertEditableVoidButtonComponent implements OnInit {\n\n  constructor(\n    private editor: NsEditorService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  handleKeyDown($event: any) {\n    $event.preventDefault();\n    this.insertEditableVoid();\n  }\n\n  insertEditableVoid() {\n    const text = { text: '' };\n    const voidNode: EditableVoidElement = {\n      type: 'editable-void',\n      children: [text],\n    };\n    Transforms.insertNodes(this.editor.editor, voidNode);\n  }\n\n}\n","<app-button (onMouseDown)=\"handleKeyDown($event)\">\n  <app-icon>add</app-icon>\n</app-button>\n","import { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: 'app-editor-value',\n  templateUrl: './editor-value.component.html',\n  styleUrls: ['./editor-value.component.less']\n})\nexport class EditorValueComponent implements OnInit {\n  @Input() className: string;\n  @Input() value: any;\n\n  get textLines() {\n    return this.value.document.nodes\n      .map(node => node.text)\n      .toArray()\n      .join('\\n');\n  }\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div\n  [className]=\"className\"\n  [ngStyle]=\"{\n    margin: '30px -20px 0'\n  }\"\n>\n  <div [ngStyle]=\"{\n    fontSize: '14px',\n    padding: '5px 20px',\n    color: '#404040',\n    borderTop: '2px solid #eeeeee',\n    background: '#f8f8f8'\n  }\">\n    Slate's value as text\n  </div>\n  <div class=\"txtline\">{{textLines}}</div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {\n  AfterContentChecked,\n  AfterViewInit,\n  Component,\n  ElementRef,\n  Inject,\n  OnInit\n} from \"@angular/core\";\nimport {\n  BaseElementComponent,\n  KEY_TOKEN,\n  Key, NsEditorService, NsDepsService\n} from \"slate-ng-view\";\n\n\n@Component({\n  selector: \"blockquote[block-quote]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class BlockQuoteComponent extends BaseElementComponent {\n  static type = \"block-quote\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"ul[bulleted-list]\",\n  template: `\n    <nz-alert nzType=\"success\" [nzMessage]=\"message\"></nz-alert>\n    <ng-template #message>\n      <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n        <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n      </ng-container>\n    </ng-template>\n  `\n})\nexport class BulletedListComponent extends BaseElementComponent {\n  static type = \"bulleted-list\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h1[heading-one]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingOneComponent extends BaseElementComponent {\n  static type = \"heading-one\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h2[heading-two]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingTwoComponent extends BaseElementComponent {\n  static type = \"heading-two\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h3[heading-two]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingThreeComponent extends BaseElementComponent {\n  static type = \"heading-three\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h4[heading-two]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingFourComponent extends BaseElementComponent {\n  static type = \"heading-four\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h5[heading-two]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingFiveComponent extends BaseElementComponent {\n  static type = \"heading-five\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n@Component({\n  selector: \"h6[heading-two]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HeadingSixComponent extends BaseElementComponent {\n  static type = \"heading-six\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n\n@Component({\n  selector: \"li[list-item]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class ListItemComponent extends BaseElementComponent {\n  static type = \"list-item\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\n\n@Component({\n  selector: \"ol[numbered-list]\",\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class NumberedListComponent extends BaseElementComponent {\n  static type = \"numbered-list\";\n  useHostBinding = false;\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n\nexport const CustomComponents = [\n  NumberedListComponent,\n  ListItemComponent,\n  HeadingOneComponent,\n  HeadingTwoComponent,\n  HeadingThreeComponent,\n  HeadingFourComponent,\n  HeadingFiveComponent,\n  HeadingSixComponent,\n  BulletedListComponent,\n  BlockQuoteComponent\n];\n","import { Component, HostBinding, Inject, OnInit } from \"@angular/core\";\nimport { BaseLeafComponent, LEAF_CHILD_PORTAL_TOKEN, LEAF_TOKEN } from \"../../../../../../slate-ng-view/src\";\nimport { ComponentPortal } from \"@angular/cdk/portal\";\n\n@Component({\n  selector: 'span[app-custom-leaf]',\n  template: `\n    <ng-template [cdkPortalOutlet]=\"leafChild\"></ng-template>\n  `,\n  styles: [`\n    :host {\n      font-family: monospace;\n      background: hsla(0, 0%, 100%, .5);\n    }\n  `]\n})\nexport class LeafComponent extends BaseLeafComponent implements OnInit {\n  static type = \"leaf\";\n\n  @HostBinding('style.color')\n  get color() {\n    const leaf = this.leaf;\n    if (leaf?.comment) {\n      return 'slategray';\n    }\n\n    if (leaf?.operator || leaf.url) {\n      return '#9a6e3a';\n    }\n\n    if (leaf?.keyword) {\n      return '#07a';\n    }\n\n    if (leaf?.variable || leaf?.regex) {\n      return '#e90';\n    }\n\n    if (leaf.number ||\n      leaf.boolean ||\n      leaf.tag ||\n      leaf.constant ||\n      leaf.symbol ||\n      leaf['attr-name'] ||\n      leaf.selector) {\n      return '#905';\n    }\n\n    if (leaf.punctuation) {\n      return '#999'\n    }\n\n    if (leaf.string || leaf.char) {\n      return '#690'\n    }\n\n    if (leaf.function || leaf['class-name']) {\n      return '#dd4a68';\n    }\n  };\n\n  constructor(\n    @Inject(LEAF_CHILD_PORTAL_TOKEN) readonly leafChild: ComponentPortal<any>,\n    @Inject(LEAF_TOKEN) readonly leaf: any\n  ) {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}\n","import { InjectionToken } from \"@angular/core\";\nimport { Range } from \"slate\";\n\nexport const CHILD_PORTALS_TOKEN = new InjectionToken(\"child_portals_token\");\nexport const PARENT_NODE_TOKEN = new InjectionToken(\"parent_node_token\");\nexport const CURRENT_NODE_TOKEN = new InjectionToken(\"current_node_token\");\nexport const NODE_INDEX_TOKEN = new InjectionToken(\"node_index_token\");\nexport const IS_LAST_TOKEN = new InjectionToken(\"is_last_token\");\nexport const KEY_TOKEN = new InjectionToken(\"key_token\");\nexport const DECORATIONS_TOKEN = new InjectionToken<Range[]>(\"decorations_token\");\nexport const SELECTION_TOKEN = new InjectionToken<Range>(\"selection_token\");\nexport const LEAF_TOKEN = new InjectionToken(\"leaf_token\");\nexport const LEAF_CHILD_PORTAL_TOKEN = new InjectionToken(\"leaf_child_portal_token\");\nexport const PLACEHOLDER_CHILDREN_TOKEN = new InjectionToken(\"placeholder_children_token\");\n","/**\n * Types.\n */\n\n// COMPAT: This is required to prevent TypeScript aliases from doing some very\n// weird things for Slate's types with the same name as globals. (2019/11/27)\n// https://github.com/microsoft/TypeScript/issues/35002\nimport DOMNode = globalThis.Node;\nimport DOMComment = globalThis.Comment;\nimport DOMElement = globalThis.Element;\nimport DOMText = globalThis.Text;\nimport DOMRange = globalThis.Range;\nimport DOMSelection = globalThis.Selection;\nimport DOMStaticRange = globalThis.StaticRange;\n\nexport {\n  DOMNode,\n  DOMComment,\n  DOMElement,\n  DOMText,\n  DOMRange,\n  DOMSelection,\n  DOMStaticRange,\n};\n\ndeclare global {\n  interface Window {\n    Selection: typeof Selection['constructor'];\n    DataTransfer: typeof DataTransfer['constructor'];\n    Node: typeof Node['constructor'];\n  }\n}\n\nexport type DOMPoint = [Node, number];\n\n/**\n * Returns the host window of a DOM node\n */\n\nexport const getDefaultView = (value: any): Window | null => {\n  return (\n    (value && value.ownerDocument && value.ownerDocument.defaultView) || null\n  );\n};\n\n/**\n * Check if a DOM node is a comment node.\n */\n\nexport const isDOMComment = (value: any): value is DOMComment => {\n  return isDOMNode(value) && value.nodeType === 8;\n};\n\n/**\n * Check if a DOM node is an element node.\n */\n\nexport const isDOMElement = (value: any): value is DOMElement => {\n  return isDOMNode(value) && value.nodeType === 1;\n};\n\n/**\n * Check if a value is a DOM node.\n */\n\nexport const isDOMNode = (value: any): value is DOMNode => {\n  // todo: iframe editorvalue instanceof window.Nodefalse\n  return value instanceof globalThis.Node;\n};\n\n/**\n * Check if a value is a DOM selection.\n */\n\nexport const isDOMSelection = (value: any): value is DOMSelection => {\n  const window = value && value.anchorNode && getDefaultView(value.anchorNode);\n  return !!window && value instanceof window.Selection;\n};\n\n/**\n * Check if a DOM node is an element node.\n */\n\nexport const isDOMText = (value: any): value is DOMText => {\n  return isDOMNode(value) && value.nodeType === 3;\n};\n\n/**\n * Checks whether a paste event is a plaintext-only event.\n */\n\nexport const isPlainTextOnlyPaste = (event: ClipboardEvent) => {\n  return (\n    event.clipboardData &&\n    event.clipboardData.getData('text/plain') !== '' &&\n    event.clipboardData.types.length === 1\n  );\n};\n\n/**\n * Normalize a DOM point so that it always refers to a text node.\n */\n\nexport const normalizeDOMPoint = (domPoint: DOMPoint): DOMPoint => {\n  let [node, offset] = domPoint;\n  // If it's an element node, its offset refers to the index of its children\n  // including comment nodes, so try to find the right text child node.\n  if (isDOMElement(node) && node.childNodes.length) {\n    let isLast = offset === node.childNodes.length;\n    let index = isLast ? offset - 1 : offset;\n    const editableChildAndIndex = getEditableChildAndIndex(\n      node,\n      index,\n      isLast ? 'backward' : 'forward'\n    );\n    node = editableChildAndIndex[0];\n    index = editableChildAndIndex[1];\n    // If the editable child found is in front of input offset, we instead seek to its end\n    isLast = index < offset;\n    // If the node has children, traverse until we have a leaf node. Leaf nodes\n    // can be either text nodes, or other void DOM nodes.\n    while (isDOMElement(node) && node.childNodes.length) {\n      const i = isLast ? node.childNodes.length - 1 : 0;\n      node = getEditableChild(node, i, isLast ? 'backward' : 'forward');\n    }\n\n    // Determine the new offset inside the text node.\n    offset = isLast && node.textContent != null ? node.textContent.length : 0;\n  }\n  // Return the node and offset.\n  return [node, offset];\n};\n\n/**\n * Determines wether the active element is nested within a shadowRoot\n */\n\nexport const hasShadowRoot = () => {\n  return !!(\n    window.document.activeElement && window.document.activeElement.shadowRoot\n  );\n};\n\n/**\n * Get the nearest editable child and index at `index` in a `parent`, preferring\n * `direction`.\n */\n\nexport const getEditableChildAndIndex = (\n  parent: DOMElement,\n  index: number,\n  direction: 'forward' | 'backward'\n): [DOMNode, number] => {\n  const { childNodes } = parent;\n  let child = childNodes[index];\n  let i = index;\n  let triedForward = false;\n  let triedBackward = false;\n\n  // While the child is a comment node, or an element node with no children,\n  // keep iterating to find a sibling non-void, non-comment node.\n  while (\n    isDOMComment(child) ||\n    (isDOMElement(child) && child.childNodes.length === 0) ||\n    (isDOMElement(child) && child.getAttribute('contenteditable') === 'false')\n    ) {\n    if (triedForward && triedBackward) {\n      break;\n    }\n\n    if (i >= childNodes.length) {\n      triedForward = true;\n      i = index - 1;\n      direction = 'backward';\n      continue;\n    }\n\n    if (i < 0) {\n      triedBackward = true;\n      i = index + 1;\n      direction = 'forward';\n      continue;\n    }\n\n    child = childNodes[i];\n    index = i;\n    i += direction === 'forward' ? 1 : -1;\n  }\n\n  return [child, index];\n};\n\n/**\n * Get the nearest editable child at `index` in a `parent`, preferring\n * `direction`.\n */\n\nexport const getEditableChild = (\n  parent: DOMElement,\n  index: number,\n  direction: 'forward' | 'backward'\n): DOMNode => {\n  const [child] = getEditableChildAndIndex(parent, index, direction);\n  return child;\n};\n\n/**\n * Get a plaintext representation of the content of a node, accounting for block\n * elements which get a newline appended.\n *\n * The domNode must be attached to the DOM.\n */\n\nexport const getPlainText = (domNode: DOMNode) => {\n  let text = '';\n\n  if (isDOMText(domNode) && domNode.nodeValue) {\n    return domNode.nodeValue;\n  }\n  if (isDOMElement(domNode)) {\n    for (const childNode of Array.from(domNode.childNodes)) {\n      text += getPlainText(childNode);\n    }\n\n    const display = getComputedStyle(domNode).getPropertyValue('display');\n\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\n      text += '\\n';\n    }\n  }\n\n  return text;\n};\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { Editor, Text, Transforms } from \"slate\";\nimport { NsEditorService } from \"slate-ng-view\";\n\n@Component({\n  selector: 'app-format-button',\n  templateUrl: './format-button.component.html',\n  styleUrls: ['./format-button.component.less']\n})\nexport class FormatButtonComponent implements OnInit {\n  @Input() format = '';\n  @Input() icon = '';\n\n  constructor(\n    private editorService: NsEditorService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  handle($event: any) {\n    $event.preventDefault();\n    this.toggleFormat()\n  }\n\n  private toggleFormat() {\n    const isActive = this.isFormatActive();\n    Transforms.setNodes(\n      this.editorService.editor,\n      { [this.format]: isActive ? null : true },\n      { match: Text.isText, split: true }\n    )\n  }\n\n  isFormatActive() {\n    const editor = this.editorService.editor;\n    const [match] = Editor.nodes(editor, {\n      match: n => n[this.format] === true,\n      mode: 'all',\n    })\n    return !!match\n  }\n}\n\n","<app-button\n  reversed\n  [active]=\"isFormatActive()\"\n  (onMouseDown)=\"handle($event)\"\n>\n  <app-icon>{{icon}}</app-icon>\n</app-button>\n","export const TOP_BLUR = 'blur';\nexport const TOP_COMPOSITION_END = 'compositionend';\nexport const TOP_COMPOSITION_START = 'compositionstart';\nexport const TOP_COMPOSITION_UPDATE = 'compositionupdate';\nexport const TOP_KEY_DOWN = 'keydown';\nexport const TOP_KEY_PRESS = 'keypress';\nexport const TOP_KEY_UP = 'keyup';\nexport const TOP_MOUSE_DOWN = 'mousedown';\nexport const TOP_MOUSE_MOVE = 'mousemove';\nexport const TOP_MOUSE_OUT = 'mouseout';\nexport const TOP_TEXT_INPUT = 'textInput';\nexport const TOP_PASTE = 'paste';\n","export const IS_IOS =\n  typeof navigator !== 'undefined' &&\n  typeof window !== 'undefined' &&\n  /iPad|iPhone|iPod/.test(navigator.userAgent) &&\n  !window.MSStream\n\nexport const IS_APPLE =\n  typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent)\n\nexport const IS_FIREFOX =\n  typeof navigator !== 'undefined' &&\n  /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent)\n\nexport const IS_SAFARI =\n  typeof navigator !== 'undefined' &&\n  /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\n\n// \"modern\" Edge was released at 79.x\nexport const IS_EDGE_LEGACY =\n  typeof navigator !== 'undefined' &&\n  /Edge?\\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent)\n\nexport const IS_CHROME =\n  typeof navigator !== 'undefined' && /Chrome/i.test(navigator.userAgent)\n\n// Native `beforeInput` events don't work well with react on Chrome 75\n// and older, Chrome 76+ can use `beforeInput` though.\nexport const IS_CHROME_LEGACY =\n  typeof navigator !== 'undefined' &&\n  /Chrome?\\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent)\n\n// Firefox did not support `beforeInput` until `v87`.\nexport const IS_FIREFOX_LEGACY =\n  typeof navigator !== 'undefined' &&\n  /^(?!.*Seamonkey)(?=.*Firefox\\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(\n    navigator.userAgent\n  )\n\n// Check if DOM is available as React does internally.\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const CAN_USE_DOM = !!(\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined'\n)\n","import { ChangeDetectorRef, Component, ComponentRef, OnInit, ViewChildren } from '@angular/core';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { createEditor, Editor, Transforms, Element as SlateElement } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { CustomLeafComponent } from './custom-leaf/custom-leaf.component';\nimport { isKeyHotkey } from 'is-hotkey';\nimport { CustomComponents } from './element';\n// @ts-ignore\nimport _debounce from 'lodash/debounce';\n\nconst HOTKEYS = {\n  'mod+b': 'bold',\n  'mod+i': 'italic',\n  'mod+u': 'underline',\n  'mod+`': 'code'\n};\n\nconst LIST_TYPES = ['numbered-list', 'bulleted-list'];\n\n@Component({\n  selector: 'app-rich-text',\n  templateUrl: './rich-text.component.html',\n  styleUrls: ['./rich-text.component.less'],\n  providers: [RegistryNsElement, NsDepsService, NsEditorService]\n})\nexport class RichTextComponent implements OnInit {\n\n  constructor(\n    private customElement: RegistryNsElement,\n    private cdr: ChangeDetectorRef\n  ) {\n  }\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Since it\\'s rich text, you can do things like turn a selection of text '\n        },\n        { text: 'bold', bold: true },\n        {\n          text:\n            ', or add a semantically rendered block quote in the middle of the page, like this:'\n        }\n      ]\n    },\n    {\n      type: 'block-quote',\n      children: [{ text: 'A wise quote.' }]\n    },\n    {\n      type: 'paragraph',\n      children: [{ text: 'Try it out for yourself!' }]\n    }\n  ];\n  editor = withHistory(withAngular(createEditor()));\n  selectChange = _debounce(() => {\n    this.cdr.detectChanges();\n  }, 300);\n\n  onKeyDown = (event: KeyboardEvent) => {\n    for (const hotKey in HOTKEYS) {\n      const isHot = isKeyHotkey(hotKey);\n      if (isHot(event)) {\n        event.preventDefault();\n        const mark = HOTKEYS[hotKey];\n        this.toggleMark(mark);\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.customElement.add([CustomLeafComponent, ...CustomComponents]);\n  }\n\n  toggleMark(format) {\n    const isActive = this.isMarkActive(format);\n\n    if (isActive) {\n      Editor.removeMark(this.editor, format);\n    } else {\n      Editor.addMark(this.editor, format, true);\n    }\n  }\n\n  isMarkActive(format) {\n    const marks = Editor.marks(this.editor);\n    return marks ? marks[format] === true : false;\n  }\n\n  toggleBlock(format) {\n    const isActive = this.isBlockActive(format);\n    const isList = LIST_TYPES.includes(format);\n\n    Transforms.unwrapNodes(this.editor, {\n      match: n =>\n        LIST_TYPES.includes(\n          !Editor.isEditor(n) && SlateElement.isElement(n) && (n as any).type\n        ),\n      split: true,\n    });\n    const newProperties: Partial<SlateElement & {type: any}> = {\n      type: isActive ? 'paragraph' : isList ? 'list-item' : format,\n    };\n    Transforms.setNodes(this.editor, newProperties);\n\n    if (!isActive && isList) {\n      const block = { type: format, children: [] };\n      Transforms.wrapNodes(this.editor, block);\n    }\n  }\n\n  isBlockActive(format) {\n    const [match] = Editor.nodes(this.editor, {\n      match: n =>\n        !Editor.isEditor(n) && SlateElement.isElement(n) && (n as any).type === format,\n    });\n\n    return !!match;\n  }\n}\n","<div>\n  <app-toolbar>\n    <app-icon-button\n      icon=\"format_bold\"\n      [isActive]=\"isMarkActive('bold')\"\n      (onMouseDown)=\"toggleMark('bold')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_italic\"\n      [isActive]=\"isMarkActive('italic')\"\n      (onMouseDown)=\"toggleMark('italic')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_underline\"\n      [isActive]=\"isMarkActive('underline')\"\n      (onMouseDown)=\"toggleMark('underline')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_code\"\n      [isActive]=\"isMarkActive('code')\"\n      (onMouseDown)=\"toggleMark('code')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"looks_one\"\n      [isActive]=\"isBlockActive('heading-one')\"\n      (onMouseDown)=\"toggleBlock('heading-one')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"looks_two\"\n      [isActive]=\"isBlockActive('heading-two')\"\n      (onMouseDown)=\"toggleBlock('heading-two')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_quote\"\n      [isActive]=\"isBlockActive('block-quote')\"\n      (onMouseDown)=\"toggleBlock('block-quote')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_list_numbered\"\n      [isActive]=\"isBlockActive('numbered-list')\"\n      (onMouseDown)=\"toggleBlock('numbered-list')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_list_bulleted\"\n      [isActive]=\"isBlockActive('bulleted-list')\"\n      (onMouseDown)=\"toggleBlock('bulleted-list')\"\n    ></app-icon-button>\n  </app-toolbar>\n  <div\n    ns-editor\n    [editor]=\"editor\"\n    [value]=\"initialValue\"\n    [nsOnKeyDown]=\"onKeyDown\"\n    [nsSelectionChange]=\"selectChange\"\n    spellCheck\n    autoFocus\n    placeholder=\"Enter some rich text...\"\n  ></div>\n</div>\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-php';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-java';\nimport { Text, createEditor, Element as SlateElement, Descendant } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { LeafComponent } from './custom-leaf/custom-leaf.component';\n\n@Component({\n  selector: 'app-code-highlighting',\n  templateUrl: './code-highlighting.component.html',\n  styleUrls: ['./code-highlighting.component.less'],\n  providers: [NsEditorService, RegistryNsElement, NsDepsService]\n})\nexport class CodeHighlightingComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text: '<h1>Hi!</h1>'\n        }\n      ]\n    }\n  ];\n  language = 'html';\n  editor = withHistory(withAngular(createEditor()));\n  decorate = this._decorate.bind(this);\n\n  constructor(\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef,\n    private customElementService: RegistryNsElement,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.customElementService.add([LeafComponent]);\n  }\n\n  private _decorate([node, path]) {\n    const ranges = [];\n    if (!Text.isText(node)) {\n      return ranges;\n    }\n    const tokens = Prism.tokenize(node.text, Prism.languages[this.language]);\n    let start = 0;\n\n    for (const token of tokens) {\n      const length = getLength(token);\n      const end = start + length;\n\n      if (typeof token !== 'string') {\n        ranges.push({\n          [token.type]: true,\n          anchor: { path, offset: start },\n          focus: { path, offset: end }\n        });\n      }\n\n      start = end;\n    }\n\n    return ranges;\n  }\n\n  handle($event: any) {\n    this.decorate = this._decorate.bind(this);\n    this.editor.onChange();\n  }\n}\n\nconst getLength = token => {\n  if (typeof token === 'string') {\n    return token.length;\n  } else if (typeof token.content === 'string') {\n    return token.content.length;\n  } else {\n    return token.content.reduce((l, t) => l + getLength(t), 0);\n  }\n};\n\n// modifications and additions to prism library\n\nPrism.languages.python = Prism.languages.extend('python', {});\nPrism.languages.insertBefore('python', 'prolog', {\n  comment: { pattern: /##[^\\n]*/, alias: 'comment' }\n});\nPrism.languages.javascript = Prism.languages.extend('javascript', {});\nPrism.languages.insertBefore('javascript', 'prolog', {\n  comment: { pattern: /\\/\\/[^\\n]*/, alias: 'comment' }\n});\nPrism.languages.html = Prism.languages.extend('html', {});\nPrism.languages.insertBefore('html', 'prolog', {\n  comment: { pattern: /<!--[^\\n]*-->/, alias: 'comment' }\n});\nPrism.languages.markdown = Prism.languages.extend('markup', {});\nPrism.languages.insertBefore('markdown', 'prolog', {\n  blockquote: { pattern: /^>(?:[\\t ]*>)*/m, alias: 'punctuation' },\n  code: [\n    { pattern: /^(?: {4}|\\t).+/m, alias: 'keyword' },\n    { pattern: /``.+?``|`[^`\\n]+`/, alias: 'keyword' }\n  ],\n  title: [\n    {\n      pattern: /\\w+.*(?:\\r?\\n|\\r)(?:==+|--+)/,\n      alias: 'important',\n      inside: { punctuation: /==+$|--+$/ }\n    },\n    {\n      pattern: /(^\\s*)#+.+/m,\n      lookbehind: !0,\n      alias: 'important',\n      inside: { punctuation: /^#+|#+$/ }\n    }\n  ],\n  hr: {\n    pattern: /(^\\s*)([*-])([\\t ]*\\2){2,}(?=\\s*$)/m,\n    lookbehind: !0,\n    alias: 'punctuation'\n  },\n  list: {\n    pattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n    lookbehind: !0,\n    alias: 'punctuation'\n  },\n  'url-reference': {\n    pattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n    inside: {\n      variable: { pattern: /^(!?\\[)[^\\]]+/, lookbehind: !0 },\n      string: /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n      punctuation: /^[\\[\\]!:]|[<>]/\n    },\n    alias: 'url'\n  },\n  bold: {\n    pattern: /(^|[^\\\\])(\\*\\*|__)(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: { punctuation: /^\\*\\*|^__|\\*\\*$|__$/ }\n  },\n  italic: {\n    pattern: /(^|[^\\\\])([*_])(?:(?:\\r?\\n|\\r)(?!\\r?\\n|\\r)|.)+?\\2/,\n    lookbehind: !0,\n    inside: { punctuation: /^[*_]|[*_]$/ }\n  },\n  url: {\n    pattern: /!?\\[[^\\]]+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)| ?\\[[^\\]\\n]*\\])/,\n    inside: {\n      variable: { pattern: /(!?\\[)[^\\]]+(?=\\]$)/, lookbehind: !0 },\n      string: { pattern: /\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/ }\n    }\n  }\n});\nPrism.languages.markdown.bold.inside.url = Prism.util.clone(\n  Prism.languages.markdown.url\n);\nPrism.languages.markdown.italic.inside.url = Prism.util.clone(\n  Prism.languages.markdown.url\n);\nPrism.languages.markdown.bold.inside.italic = Prism.util.clone(\n  Prism.languages.markdown.italic\n);\nPrism.languages.markdown.italic.inside.bold = Prism.util.clone(Prism.languages.markdown.bold); // prettier-ignore\n","<div\n  [attr.contentEditable]=\"false\"\n  [style]=\"{ position: 'relative', top: '5px', right: '5px' }\"\n>\n  <h3>\n    Select a language\n    <select\n      [(ngModel)]=\"language\"\n      [style]=\"{ float: 'right' }\"\n      (ngModelChange)=\"handle($event)\"\n    >\n      <option value=\"js\">JavaScript</option>\n      <option value=\"css\">CSS</option>\n      <option value=\"html\">HTML</option>\n      <option value=\"python\">Python</option>\n      <option value=\"sql\">SQL</option>\n      <option value=\"java\">Java</option>\n      <option value=\"php\">PHP</option>\n    </select>\n  </h3>\n</div>\n<div\n  ns-editor\n  [editor]=\"editor\"\n  [decorate]=\"decorate\"\n  [value]=\"initialValue\"\n  placeholder=\"Write some code...\"\n>\n</div>\n","import { Directive, HostBinding } from '@angular/core';\n\n@Directive()\nexport abstract class BaseLeafComponent {\n  @HostBinding('attr.data-slate-leaf') dataSlateLeaf = true;\n}\n","import { Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { BaseElementComponent, Key, KEY_TOKEN, NsDepsService, NsEditorService } from 'slate-ng-view';\n\n\n@Component({\n  selector: 'h1[huge-document-h1]',\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class HugeDocumentH1 extends BaseElementComponent {\n  static type = 'heading';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy, ChangeDetectorRef,\n  Component,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit, TemplateRef, ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { PLACEHOLDER_SYMBOL } from '../../../utils/weak-maps';\nimport {\n  CURRENT_NODE_TOKEN,\n  IS_LAST_TOKEN,\n  LEAF_TOKEN,\n  PARENT_NODE_TOKEN,\n  PLACEHOLDER_CHILDREN_TOKEN\n} from '../../element/token';\nimport {Editor, Node, Path, Text} from 'slate';\nimport { PlaceholderComponent } from '../placeholder/placeholder.component';\nimport { RegistryNsElement } from '../../../services/registry-ns-element.service';\nimport {AngularEditor} from \"../../../plugins/angular-editor\";\nimport {NsEditorService} from \"../../../services/ns-editor.service\";\n\n@Component({\n  selector: 'ns-leaf-child',\n  templateUrl: './leaf-child.component.html',\n  styleUrls: ['./leaf-child.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class LeafChildComponent implements OnInit, AfterViewInit, OnDestroy {\n  editorEl: HTMLElement;\n  placeholderPortal = null;\n\n  @ViewChild('ZeroWidthString') ZeroWidthStringTmpl: TemplateRef<any>;\n  @ViewChild('TextString') TextStringTmpl: TemplateRef<any>;\n\n  template: TemplateRef<any>;\n  context: object;\n\n  constructor(\n    @Inject(IS_LAST_TOKEN) readonly isLast: boolean,\n    @Inject(CURRENT_NODE_TOKEN) readonly cNode: any,\n    @Inject(PARENT_NODE_TOKEN) readonly pNode: any,\n    @Inject(LEAF_TOKEN) readonly leaf: Text,\n    private customService: RegistryNsElement,\n    private injector: Injector,\n    private editorService: NsEditorService,\n    private cdr: ChangeDetectorRef\n  ) {\n  }\n\n  get hasPlaceholder() {\n    return this.leaf[PLACEHOLDER_SYMBOL];\n  }\n\n  ngOnInit() {\n    if (this.hasPlaceholder) {\n      this.placeholderPortal =\n        this.customService.getComponentPortal('placeholder', [{\n          provide: PLACEHOLDER_CHILDREN_TOKEN,\n          useValue: (this.leaf as any).placeholder\n        }], this.injector, PlaceholderComponent);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.generateStringData();\n    this.cdr.detectChanges();\n\n    // todo: editorService\n    const editorEl = this.editorEl = document.querySelector<HTMLDivElement>(\n      '[data-slate-ng-editor=\"true\"]'\n    );\n\n    const placeholderEl = document.querySelector<HTMLElement>('[data-slate-placeholder=\"true\"]');\n\n    if (!placeholderEl || !editorEl) {\n      return;\n    }\n\n    editorEl.style.minHeight = `${placeholderEl.clientHeight}px`;\n  }\n\n  ngOnDestroy() {\n    this.editorEl && (this.editorEl.style.minHeight = 'auto');\n  }\n\n  private generateStringData() {\n    const editor = this.editorService.editor;\n    const path = AngularEditor.findPath(editor, this.cNode);\n    const parentPath = Path.parent(path);\n    if (editor.isVoid(this.pNode)) {\n      this.template = this.ZeroWidthStringTmpl;\n      this.context = {\n        length: Node.string(this.pNode).length,\n        isLineBreak: false\n      };\n    }\n\n    if (\n      this.leaf.text === '' &&\n      this.pNode.children[this.pNode.children.length - 1] === this.cNode &&\n      !editor.isInline(this.pNode) &&\n      Editor.string(editor, parentPath) === ''\n    ) {\n      this.template = this.ZeroWidthStringTmpl;\n      this.context = {\n        length: 0,\n        isLineBreak: true\n      };\n    }\n\n    if (this.leaf.text === '') {\n      this.template = this.ZeroWidthStringTmpl;\n      this.context = {\n        length: 0,\n        isLineBreak: false\n      };\n    }\n\n    if (this.isLast && this.leaf.text.slice(-1) === '\\n') {\n      this.template = this.TextStringTmpl;\n      this.context = {\n        isTrailing: true,\n        text: this.leaf.text\n      };\n    }\n\n    if (!this.template) {\n      this.template = this.TextStringTmpl;\n      this.context = {\n        isTrailing: false,\n        text: this.leaf.text\n      };\n    }\n  }\n}\n","<ng-container *ngTemplateOutlet=\"template; context: context\"></ng-container>\n<ng-template *ngIf=\"hasPlaceholder\" [cdkPortalOutlet]=\"placeholderPortal\"></ng-template>\n\n\n<ng-template #ZeroWidthString let-length=\"length\" let-isLineBreak=\"isLineBreak\">\n  <span [attr.data-slate-zero-width]=\"isLineBreak ? 'n' : 'z'\" [attr.data-slate-length]=\"length\">\n    <span [innerHTML]=\"'\\uFEFF'\"></span>\n    <br *ngIf=\"isLineBreak\" />\n  </span>\n</ng-template>\n\n<ng-template #TextString let-text=\"text\" let-isTrailing=\"isTrailing\">\n  <span data-slate-string>{{text}}<br *ngIf=\"isTrailing\" /></span>\n</ng-template>\n","import { Component, Inject, Injector } from '@angular/core';\nimport { BasePlaceholderComponent, PLACEHOLDER_CHILDREN_TOKEN } from 'slate-ng-view';\n\n\n@Component(\n  {\n    // tslint:disable-next-line:component-selector\n    selector: 'div[custom-placeholder]',\n    template: `\n      <p>{{children}}</p>\n      <pre>Use the renderPlaceholder prop to customize rendering of the placeholder</pre>\n    `\n  }\n)\nexport class CustomPlaceholder extends BasePlaceholderComponent {\n  static type = 'placeholder';\n\n  constructor(\n    @Inject(PLACEHOLDER_CHILDREN_TOKEN) readonly children: any\n  ) {\n    super();\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  Injector,\n  Input,\n  OnInit\n} from '@angular/core';\nimport {Ancestor, BaseRange, Descendant, Editor, Element, Node, NodeEntry, Range} from 'slate';\nimport {ElementComponent} from '../element/element.component';\nimport {TextComponent} from '../text/text.component';\nimport {ComponentPortal} from '@angular/cdk/portal';\nimport {\n  CHILD_PORTALS_TOKEN,\n  CURRENT_NODE_TOKEN,\n  DECORATIONS_TOKEN,\n  IS_LAST_TOKEN,\n  KEY_TOKEN,\n  NODE_INDEX_TOKEN,\n  PARENT_NODE_TOKEN, SELECTION_TOKEN\n} from '../element/token';\nimport {AngularEditor} from '../../plugins/angular-editor';\nimport {\n  EDITOR_TO_ON_CHANGE,\n  KEY_TO_PORTAL,\n  NODE_TO_INDEX,\n  NODE_TO_PARENT,\n  PLACEHOLDER_SYMBOL\n} from '../../utils/weak-maps';\nimport {Key} from '../../utils/key';\nimport {isDecoratorRangeListEqual} from '../../utils/range-list';\nimport {NsDepsService} from '../../services/ns-deps.service';\nimport {RegistryNsElement} from '../../services/registry-ns-element.service';\nimport {NsEditorService} from '../../services/ns-editor.service';\n\n@Component({\n  selector: 'ns-children',\n  templateUrl: './children.component.html',\n  styleUrls: ['./children.component.css']\n})\nexport class ChildrenComponent implements OnInit {\n  @Input() placeholder: string;\n  @Input() decorate: (entry: NodeEntry) => Range[];\n\n  showPortals = [];\n  decorations: (BaseRange & { placeholder?: string | undefined })[];\n\n  constructor(\n    private customElementService: RegistryNsElement,\n    private editorService: NsEditorService,\n    private injector: Injector,\n    private cdr: ChangeDetectorRef,\n    private deps: NsDepsService\n  ) {\n  }\n\n  ngOnInit(): void {\n    const editor = this.editorService.editor;\n    this.getDecorations(editor);\n    this.showPortals = this.resolvePortals(editor);\n    const onChange = EDITOR_TO_ON_CHANGE.get(editor);\n    EDITOR_TO_ON_CHANGE.set(editor, () => {\n      this.getDecorations(editor);\n      this.showPortals = this.resolvePortals(editor);\n      this.cdr.detectChanges();\n      // resolvePortalstoNativeSelectionKEY_TO_ELEMENT\n      onChange();\n    });\n  }\n\n  computedPortal(providers, cNode, key): ComponentPortal<any> {\n    let portal = null;\n    this.deps.set(key, this.customElementService.getInjector(providers, this.injector));\n    if (Element.isElement(cNode)) {\n      portal = this.customElementService.getComponentPortal(\n        (cNode as any).type,\n        [{\n          provide: KEY_TOKEN,\n          useValue: key\n        }],\n        this.injector,\n        ElementComponent\n      );\n    } else {\n      portal = this.customElementService.getComponentPortal(\n        'text',\n        [{\n          provide: KEY_TOKEN,\n          useValue: key\n        }],\n        this.injector,\n        TextComponent\n      );\n    }\n    return portal;\n  }\n\n  resolvePortals(pNode: Ancestor): Array<ComponentPortal<any>> {\n    const children = [];\n    const editor = this.editorService.editor;\n    const path = AngularEditor.findPath(editor, pNode);\n    const selection = editor.selection;\n    const isLeafBlock =\n      Element.isElement(pNode) &&\n      !editor.isInline(pNode) &&\n      Editor.hasInlines(editor, pNode);\n\n    for (let i = 0; i < pNode.children.length; i++) {\n      const cNode = pNode.children[i] as Ancestor | Descendant;\n      const idx = i;\n      const p = path.concat(idx);\n      const hasKey = AngularEditor.hasKey(cNode);\n      const key = AngularEditor.findKey(editor, cNode);\n      const isLast = isLeafBlock && idx === pNode.children.length - 1;\n      const range = Editor.range(editor, p);\n      const sel = selection && Range.intersection(range, selection);\n\n      const ds = this.decorate([cNode, p]);\n      for (const dec of this.decorations) {\n        const d = Range.intersection(dec, range);\n\n        if (d) {\n          ds.push(d);\n        }\n      }\n\n      let childPortals = [];\n      let portal = null;\n\n      NODE_TO_INDEX.set(cNode, idx);\n      NODE_TO_PARENT.set(cNode, pNode);\n\n      if ((cNode as Ancestor).children) {\n        childPortals = this.resolvePortals(cNode as Ancestor);\n      }\n\n      const providers = [\n        {\n          provide: CHILD_PORTALS_TOKEN,\n          useValue: childPortals\n        },\n        {\n          provide: PARENT_NODE_TOKEN,\n          useValue: pNode\n        },\n        {\n          provide: CURRENT_NODE_TOKEN,\n          useValue: cNode\n        },\n        {\n          provide: NODE_INDEX_TOKEN,\n          useValue: idx\n        },\n        {\n          provide: KEY_TOKEN,\n          useValue: key\n        },\n        {\n          provide: DECORATIONS_TOKEN,\n          useValue: ds || []\n        },\n        {\n          provide: IS_LAST_TOKEN,\n          useValue: isLast\n        },\n        {\n          provide: SELECTION_TOKEN,\n          useValue: sel\n        }\n      ];\n\n      const prePortal = KEY_TO_PORTAL.get(key);\n      const preDeps = this.deps.get(key);\n\n      // portal\n      if (hasKey && prePortal && preDeps) {\n        const preNode = preDeps.injector.get(CURRENT_NODE_TOKEN);\n        const preDecorations = preDeps.injector.get(DECORATIONS_TOKEN);\n\n        if (Element.isElement(cNode)) {\n          if (\n            preNode === cNode &&\n            isDecoratorRangeListEqual(preDecorations, ds)\n          ) {\n            children.push(prePortal);\n            continue;\n          } else if (\n            (preNode as any).type === (cNode as any).type &&\n            this.customElementService.get((cNode as any).type) &&\n            prePortal.component === this.customElementService.get((cNode as any).type).comp\n          ) {\n            this.deps.set(key, this.customElementService.getInjector(providers, this.injector));\n            children.push(prePortal);\n            continue;\n          }\n        } else {\n          const preParentNode = preDeps.injector.get(PARENT_NODE_TOKEN);\n          const preIsLast = preDeps.injector.get(IS_LAST_TOKEN);\n          if (\n            preParentNode === pNode &&\n            preIsLast === isLast &&\n            preNode === cNode &&\n            isDecoratorRangeListEqual(preDecorations, ds)\n          ) {\n            children.push(prePortal);\n            continue;\n          } else if (\n            (preNode as any).type === (cNode as any).type &&\n            this.customElementService.get((cNode as any).type) &&\n            prePortal.component === this.customElementService.get((cNode as any).type).comp\n          ) {\n            this.deps.set(key, this.customElementService.getInjector(providers, this.injector));\n            children.push(prePortal);\n            continue;\n          }\n        }\n      }\n\n      portal = this.computedPortal(providers, cNode, key);\n      KEY_TO_PORTAL.set(key, portal);\n      children.push(portal);\n    }\n\n    return children;\n  }\n\n  getDecorations(editor) {\n    this.decorations = this.decorate([editor, []]);\n    if (\n      this.placeholder &&\n      editor.children.length === 1 &&\n      Array.from(Node.texts(editor)).length === 1 &&\n      Node.string(editor) === ''\n    ) {\n      const start = Editor.start(editor, []);\n      this.decorations.push({\n        [PLACEHOLDER_SYMBOL]: true,\n        placeholder: this.placeholder,\n        anchor: start,\n        focus: start\n      });\n    }\n  }\n\n  trackBy(index, item: ComponentPortal<any>) {\n    return (item.injector.get(KEY_TOKEN) as Key).id || index;\n  }\n}\n","<ng-container *ngFor=\"let portal of showPortals;\">\n  <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n</ng-container>\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { ComponentPortal, Portal } from \"@angular/cdk/portal\";\nimport { KEY_TOKEN } from \"../element/token\";\nimport { Key } from \"../../utils/key\";\n\n@Component({\n  selector: 'ns-portal-entry',\n  templateUrl: './portal-entry.component.html',\n  styleUrls: ['./portal-entry.component.css']\n})\nexport class PortalEntryComponent implements OnInit {\n  @Input() portals: Portal<any>[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  /**\n   * componentPortal \n   * @param index\n   * @param item\n   */\n  trackBy(index, item: ComponentPortal<any>) {\n    return (item.injector.get(KEY_TOKEN) as Key)?.id || index;\n  }\n\n}\n","<ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n  <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n</ng-container>\n","import {\n  AfterViewChecked,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  StaticProvider,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BaseElementComponent } from '../element/base-element';\nimport {\n  CHILD_PORTALS_TOKEN,\n  CURRENT_NODE_TOKEN,\n  DECORATIONS_TOKEN,\n  IS_LAST_TOKEN,\n  KEY_TOKEN,\n  LEAF_CHILD_PORTAL_TOKEN,\n  LEAF_TOKEN,\n  PARENT_NODE_TOKEN\n} from '../element/token';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { Key } from '../../utils/key';\nimport { BaseRange, Element, Text as SlateText, Text } from 'slate';\nimport { LeafComponent } from './leaf/leaf.component';\nimport { LeafChildComponent } from './leaf-child/leaf-child.component';\nimport { BaseTextComponent } from './base-text';\nimport { NsDepsService } from '../../services/ns-deps.service';\nimport { RegistryNsElement } from '../../services/registry-ns-element.service';\n\n@Component({\n  selector: 'span[ns-text]',\n  templateUrl: './text.component.html',\n  styleUrls: ['./text.component.css'],\n  host: {\n    'data-slate-node': 'text'\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TextComponent extends BaseTextComponent implements OnInit, AfterViewInit, OnDestroy {\n  static type = 'text';\n  leaves: SlateText[] = [];\n  leafPortals = [];\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef,\n    private customService: RegistryNsElement,\n    private injector: Injector\n  ) {\n    super(key, deps, elementRef, cdr);\n  }\n\n  ngOnInit(): void {\n    this.leaves = SlateText.decorations(this.cNode, this.decorations);\n    this.getLeafPortals();\n  }\n\n  getLeafPortals() {\n    this.leaves.forEach(leaf => {\n      this.leafPortals.push(this.getLeafPortal(leaf));\n    });\n  }\n\n  getLeafPortal(leaf: Text) {\n    const providers: StaticProvider[] = [\n      {\n        provide: IS_LAST_TOKEN,\n        useValue: this.isLast\n      },\n      {\n        provide: CURRENT_NODE_TOKEN,\n        useValue: this.cNode\n      },\n      {\n        provide: PARENT_NODE_TOKEN,\n        useValue: this.pNode\n      },\n      {\n        provide: LEAF_TOKEN,\n        useValue: leaf\n      }\n    ];\n    const leafChildPortal = this.customService.getComponentPortal('leaf-child', providers, this.injector, LeafChildComponent);\n    const leafProviders: StaticProvider[] = providers.concat({\n      provide: LEAF_CHILD_PORTAL_TOKEN,\n      useValue: leafChildPortal\n    });\n    return this.customService.getComponentPortal('leaf', leafProviders, this.injector, LeafComponent);\n  }\n\n  ngAfterViewInit() {\n    this.init(this.elementRef);\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n}\n","<ng-container *ngFor=\"let leafPortal of leafPortals\">\n  <ng-template [cdkPortalOutlet]=\"leafPortal\"></ng-template>\n</ng-container>\n\n\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Inject,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ViewEncapsulation\n} from \"@angular/core\";\nimport { BaseElementComponent } from \"./base-element\";\nimport { KEY_TOKEN } from \"./token\";\nimport { Key } from \"../../utils/key\";\nimport { NsEditorService } from \"../../services/ns-editor.service\";\nimport { NsDepsService } from \"../../services/ns-deps.service\";\n\n@Component({\n  selector: \"div[ns-element]\",\n  templateUrl: \"./element.component.html\",\n  styleUrls: [\"./element.component.css\"],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ElementComponent extends BaseElementComponent {\n  static type = \"default\";\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef?: ElementRef,\n    public cdr?: ChangeDetectorRef,\n  ) {\n    super(key, deps, editorService, elementRef, cdr);\n  }\n}\n","<ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n  <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n</ng-container>\n","import { Component, OnInit } from '@angular/core';\nimport { NsDepsService, NsEditorService, RegistryNsElement, withAngular } from 'slate-ng-view';\nimport { HugeDocumentH1 } from './huge-document-h1';\nimport { createEditor, Descendant } from 'slate';\nimport faker from 'faker';\n\n@Component({\n  selector: 'app-huge-document',\n  templateUrl: './huge-document.component.html',\n  styleUrls: ['./huge-document.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class HugeDocumentComponent implements OnInit {\n  editor = withAngular(createEditor());\n  initialValue = [];\n\n  constructor(\n    private registry: RegistryNsElement,\n  ) { }\n\n  ngOnInit(): void {\n    this.create();\n    this.registry.add([HugeDocumentH1]);\n  }\n\n\n  create() {\n    const HEADINGS = 100;\n    const PARAGRAPHS = 7;\n\n    for (let h = 0; h < HEADINGS; h++) {\n      this.initialValue.push({\n        type: 'heading',\n        children: [{ text: faker.lorem.sentence() }],\n      });\n\n      for (let p = 0; p < PARAGRAPHS; p++) {\n        this.initialValue.push({\n          type: 'paragraph',\n          children: [{ text: faker.lorem.paragraph() }],\n        });\n      }\n    }\n  }\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  spellCheck\n  autoFocus\n></div>\n","import { ChangeDetectorRef, Component, OnInit, ViewChild, ViewChildren, ViewContainerRef } from '@angular/core';\nimport { AngularEditor, NsDepsService, NsEditorService, RegistryNsElement, withAngular } from 'slate-ng-view';\nimport { withHistory } from 'slate-history';\nimport { createEditor, Editor } from 'slate';\nimport { CustomLeafComponent } from '../rich-text/custom-leaf/custom-leaf.component';\nimport { isKeyHotkey } from 'is-hotkey';\n// @ts-ignore\nimport _debounce from 'lodash/debounce';\nimport { IframeContainerComponent } from './iframe-container/iframe-container.component';\n\nconst HOTKEYS = {\n  'mod+b': 'bold',\n  'mod+i': 'italic',\n  'mod+u': 'underline',\n  'mod+`': 'code',\n};\n\n@Component({\n  selector: 'app-iframe',\n  templateUrl: './iframe.component.html',\n  styleUrls: ['./iframe.component.less'],\n  providers: [RegistryNsElement, NsDepsService, NsEditorService]\n})\nexport class IframeComponent implements OnInit {\n  editor = withHistory(withAngular(createEditor()));\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text: 'In this example, the document gets rendered into a controlled ',\n        },\n        { text: '<iframe>', code: true },\n        {\n          text: '. This is ',\n        },\n        {\n          text: 'particularly',\n          italic: true,\n        },\n        {\n          text:\n            ' useful, when you need to separate the styles for your editor contents from the ones addressing your UI.',\n        },\n      ],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text: 'This also the only reliable method to preview any ',\n        },\n        {\n          text: 'media queries',\n          bold: true,\n        },\n        {\n          text: ' in your CSS.',\n        },\n      ],\n    },\n  ];\n  selectionChange = _debounce(() => {\n    this.cdr.detectChanges();\n  }, 300);\n  tmplContext = {editor: this.editor};\n\n  @ViewChild(IframeContainerComponent) iframeCom: IframeContainerComponent;\n\n  constructor(\n    private registryNsElement: RegistryNsElement,\n    private cdr: ChangeDetectorRef,\n    public viewContainerRef: ViewContainerRef,\n  ) { }\n\n  onKeyDown = (event: KeyboardEvent) => {\n    for (const hotKey in HOTKEYS) {\n      const isHot = isKeyHotkey(hotKey);\n      if (isHot(event)) {\n        event.preventDefault();\n        const mark = HOTKEYS[hotKey];\n        this.toggleMark(mark);\n      }\n    }\n  }\n\n  ngOnInit(): void {\n    this.registryNsElement.add([CustomLeafComponent]);\n  }\n\n  handleBlur($event: FocusEvent) {\n    AngularEditor.deselect(this.editor);\n  }\n\n  toggleMark(format) {\n    const isActive = this.isMarkActive(format);\n    if (isActive) {\n      Editor.removeMark(this.editor, format);\n    } else {\n      Editor.addMark(this.editor, format, true);\n    }\n  }\n\n  isMarkActive(format) {\n    const marks = Editor.marks(this.editor);\n    return marks ? marks[format] === true : false;\n  }\n}\n","<div>\n  <app-toolbar>\n    <app-icon-button\n      icon=\"format_bold\"\n      [isActive]=\"isMarkActive('bold')\"\n      (onMouseDown)=\"toggleMark('bold')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_italic\"\n      [isActive]=\"isMarkActive('italic')\"\n      (onMouseDown)=\"toggleMark('italic')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_underline\"\n      [isActive]=\"isMarkActive('underline')\"\n      (onMouseDown)=\"toggleMark('underline')\"\n    ></app-icon-button>\n    <app-icon-button\n      icon=\"format_code\"\n      [isActive]=\"isMarkActive('code')\"\n      (onMouseDown)=\"toggleMark('code')\"\n    ></app-icon-button>\n  </app-toolbar>\n\n  <app-iframe-container [containerRef]=\"viewContainerRef\" [templateRef]=\"editorTmpl\" [tmplContext]=\"tmplContext\" (onBlur)=\"handleBlur($event)\">\n  </app-iframe-container>\n</div>\n\n<ng-template #editorTmpl let-edit=\"editor\">\n  <div\n    ns-editor\n    [editor]=\"editor\"\n    [value]=\"initialValue\"\n    [nsOnKeyDown]=\"onKeyDown\"\n    [nsSelectionChange]=\"selectionChange\"\n    spellCheck\n    autoFocus\n    placeholder=\"Enter some rich text...\"\n  ></div>\n</ng-template>\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { AngularEditor, BaseElementComponent, NsEditorService, Key, KEY_TOKEN, NsDepsService } from 'slate-ng-view';\nimport { Element as SlateElement, Transforms } from 'slate';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'div[app-video-element]',\n  templateUrl: './video-element.component.html',\n  styleUrls: ['./video-element.component.less']\n})\nexport class VideoElementComponent extends BaseElementComponent {\n  static type = 'video';\n\n  get url() {\n    return this.cNode.url;\n  }\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    private sanitizer: DomSanitizer,\n    public elementRef?: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n\n  handleUrlChange(val: any) {\n    const path = AngularEditor.findPath(this.editorService.editor, this.cNode);\n    const newProperties: any = {\n      url: val,\n    };\n    Transforms.setNodes(this.editorService.editor, newProperties, { at: path });\n  }\n}\n","<div [attr.contenteditable]=\"false\">\n  <div [style]=\"{\n    'padding': '75% 0 0 0',\n    position: 'relative'\n  }\">\n    <iframe\n      [src]=\"url | safeUrl\"\n      frameBorder=\"0\"\n      [style]=\"{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%'\n      }\"\n    ></iframe>\n  </div>\n  <app-url-input\n    [url]=\"url\"\n    (urlChange)=\"handleUrlChange($event)\"\n  ></app-url-input>\n</div>\n<ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n  <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n</ng-container>\n","import { DOCUMENT } from \"@angular/common\";\nimport { Inject, Injectable } from \"@angular/core\";\nimport {\n  angular_packages_platform_browser_platform_browser_g as EventManagerPlugin\n} from \"@angular/platform-browser\";\nimport { canUseCompositionEvent, extractCompositionEvent } from \"../before-input/extract-event\";\n\nexport const COMPOSITION_EVENTS: { name: string }[] = [\n  { name: \"focusout\" },\n  { name: \"keydown\" },\n  { name: \"keypress\" },\n  { name: \"keyup\" },\n  { name: \"mousedown\" }\n];\n\n\n@Injectable()\nexport class CompositionEventPlugin extends EventManagerPlugin {\n  readonly COMPOSITION_START = \"composition_start\";\n  readonly COMPOSITION_UPDATE = \"composition_update\";\n  readonly COMPOSITION_END = \"composition_end\";\n\n  constructor(@Inject(DOCUMENT) doc: any) {\n    super(doc);\n  }\n\n  // This plugin should come last in the list of plugins, because it accepts all\n  // events.\n  supports(eventName: string): boolean {\n    return eventName === this.COMPOSITION_START\n      || eventName === this.COMPOSITION_UPDATE\n      || eventName === this.COMPOSITION_END;\n  }\n\n\n  addEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    const mulListeners: Array<{ eventName: string, handler: EventListener }> = [];\n    if (canUseCompositionEvent) {\n      element.addEventListener(eventName, handler as EventListener, false);\n      mulListeners.push({ eventName, handler: handler as EventListener });\n    } else {\n      COMPOSITION_EVENTS.forEach(event => {\n        const eventHandler: EventListener = (e) => {\n          const compositionEvent = extractCompositionEvent(e.type, null, e, e.target);\n          if (compositionEvent) {\n            handler(compositionEvent);\n          }\n        };\n        element.addEventListener(event.name, eventHandler, false);\n        mulListeners.push({ eventName: event.name, handler: eventHandler });\n      });\n    }\n    return () => {\n      mulListeners.forEach(listener => {\n        this.removeEventListener(element, listener.eventName, listener.handler);\n      });\n    };\n  }\n\n  removeEventListener(target: any, eventName: string, callback: Function): void {\n    return target.removeEventListener(eventName, callback as EventListener);\n  }\n}\n","export * from './public-api';\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {EVENT_MANAGER_PLUGINS} from '@angular/platform-browser';\nimport {BeforeInputEventPlugin} from './polyfills/before-input/before-input-event-plugin';\nimport {EditableComponent} from './components/editable/editable.component';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {ChildrenComponent} from './components/children/children.component';\nimport {ElementComponent} from './components/element/element.component';\nimport {TextComponent} from './components/text/text.component';\nimport {CompositionEventPlugin} from './polyfills/composition/composition-event-plugin';\nimport {LeafComponent} from './components/text/leaf/leaf.component';\nimport {PlaceholderComponent} from './components/text/placeholder/placeholder.component';\nimport {LeafChildComponent} from './components/text/leaf-child/leaf-child.component';\nimport {RegistryNsElement} from './services/registry-ns-element.service';\nimport {NsEditorService} from './services/ns-editor.service';\nimport {ElementAttrsDirective} from './directives/element-attrs.directive';\nimport {LeafAttrsDirective} from './directives/leaf-attrs.directive';\nimport {PlaceholderAttrsDirective} from './directives/placeholder-attrs.directive';\nimport {PortalEntryComponent} from './components/portal-entry/portal-entry.component';\n\n@NgModule({\n  declarations: [\n    EditableComponent,\n    ChildrenComponent,\n    ElementComponent,\n    TextComponent,\n    LeafComponent,\n    PlaceholderComponent,\n    LeafChildComponent,\n    PortalEntryComponent,\n    ElementAttrsDirective,\n    LeafAttrsDirective,\n    PlaceholderAttrsDirective,\n  ],\n  imports: [\n    CommonModule,\n    PortalModule\n  ],\n  providers: [\n    {\n      provide: EVENT_MANAGER_PLUGINS,\n      useClass: CompositionEventPlugin,\n      multi: true\n    },\n    {\n      provide: EVENT_MANAGER_PLUGINS,\n      useClass: BeforeInputEventPlugin,\n      multi: true\n    },\n    NsEditorService,\n    RegistryNsElement\n  ],\n  exports: [\n    EditableComponent,\n    ElementAttrsDirective,\n    LeafAttrsDirective,\n    PlaceholderAttrsDirective,\n    PortalEntryComponent\n  ]\n})\nexport class SlateNgModule {\n}\n","import { Component, Inject } from \"@angular/core\";\nimport { PLACEHOLDER_CHILDREN_TOKEN } from \"../../element/token\";\nimport { BasePlaceholderComponent } from \"./base-placeholder.component\";\n\n@Component({\n  selector: \"span[ns-placeholder]\",\n  template: `\n    {{children}}\n  `\n})\nexport class PlaceholderComponent extends BasePlaceholderComponent {\n  children: any;\n\n  constructor(\n    @Inject(PLACEHOLDER_CHILDREN_TOKEN) children: any\n  ) {\n    super();\n    this.children = children;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {routes} from './app-routing.module';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.less']\n})\nexport class AppComponent implements OnInit {\n  title = 'demo';\n  routeList = routes;\n\n  constructor(\n  ) {\n  }\n\n  ngOnInit() {\n  }\n}\n","<div class=\"menu\">\n  <ng-container *ngFor=\"let route of routeList\">\n    <a [routerLink]=\"route.path\" routerLinkActive=\"active\">{{route.path}}</a>\n  </ng-container>\n</div>\n<div class=\"editor-container\">\n  <router-outlet></router-outlet>\n</div>\n","import { Range } from 'slate'\nimport { PLACEHOLDER_SYMBOL } from './weak-maps'\n\nexport const shallowCompare = (obj1: {}, obj2: {}) =>\n  Object.keys(obj1).length === Object.keys(obj2).length &&\n  Object.keys(obj1).every(\n    key => obj2.hasOwnProperty(key) && obj1[key] === obj2[key]\n  )\n\n/**\n * Check if a list of decorator ranges are equal to another.\n *\n * PERF: this requires the two lists to also have the ranges inside them in the\n * same order, but this is an okay constraint for us since decorations are\n * kept in order, and the odd case where they aren't is okay to re-render for.\n */\n\nexport const isDecoratorRangeListEqual = (\n  list: Range[],\n  another: Range[]\n): boolean => {\n  if (list.length !== another.length) {\n    return false\n  }\n\n  for (let i = 0; i < list.length; i++) {\n    const range = list[i]\n    const other = another[i]\n\n    const { anchor: rangeAnchor, focus: rangeFocus, ...rangeOwnProps } = range\n    const { anchor: otherAnchor, focus: otherFocus, ...otherOwnProps } = other\n\n    if (\n      !Range.equals(range, other) ||\n      range[PLACEHOLDER_SYMBOL] !== other[PLACEHOLDER_SYMBOL] ||\n      !shallowCompare(rangeOwnProps, otherOwnProps)\n    ) {\n      return false\n    }\n  }\n\n  return true\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { coerceBooleanProperty, coerceCssPixelValue, _isNumberValue } from '@angular/cdk/coercion';\n\nexport type FunctionProp<T> = (...args: any[]) => T;\n\nexport function toBoolean(value: boolean | string): boolean {\n  return coerceBooleanProperty(value);\n}\n\nexport function toNumber(value: number | string): number;\nexport function toNumber<D>(value: number | string, fallback: D): number | D;\nexport function toNumber(value: number | string, fallbackValue: number = 0): number {\n  return _isNumberValue(value) ? Number(value) : fallbackValue;\n}\n\nexport function toCssPixel(value: number | string): string {\n  return coerceCssPixelValue(value);\n}\n\n// tslint:disable no-invalid-this\n\n/**\n * Get the function-property type's value\n */\nexport function valueFunctionProp<T>(prop: FunctionProp<T> | T, ...args: any[]): T {\n  return typeof prop === 'function' ? (prop as FunctionProp<T>)(...args) : prop;\n}\n\nfunction propDecoratorFactory<T, D>(name: string, fallback: (v: T) => D): (target: any, propName: string) => void {\n  function propDecorator(target: any, propName: string, originalDescriptor?: TypedPropertyDescriptor<any>): any {\n    const privatePropName = `$$__${propName}`;\n\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n      console.warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n    }\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true\n    });\n\n    return {\n      get(): string {\n        return originalDescriptor && originalDescriptor.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\n      },\n      set(value: T): void {\n        if (originalDescriptor && originalDescriptor.set) {\n          originalDescriptor.set.bind(this)(fallback(value));\n        }\n        this[privatePropName] = fallback(value);\n      }\n    };\n  }\n\n  return propDecorator;\n}\n\n/**\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * Why not using @InputBoolean alone without @Input? AOT needs @Input to be visible\n *\n * @howToUse\n * ```\n * @Input() @InputBoolean() visible: boolean = false;\n *\n * // Act as below:\n * // @Input()\n * // get visible() { return this.__visible; }\n * // set visible(value) { this.__visible = value; }\n * // __visible = false;\n * ```\n */\nexport function InputBoolean(): any {\n  return propDecoratorFactory('InputBoolean', toBoolean);\n}\n\nexport function InputCssPixel(): any {\n  return propDecoratorFactory('InputCssPixel', toCssPixel);\n}\n\nexport function InputNumber(fallbackValue?: any): any {\n  return propDecoratorFactory('InputNumber', (value: string | number) => toNumber(value, fallbackValue));\n}\n","/**\n * An auto-incrementing identifier for keys.\n */\n\nlet n = 0\n\n/**\n * A class that keeps track of a key string. We use a full class here because we\n * want to be able to use them as keys in `WeakMap` objects.\n */\n\nexport class Key {\n  id: string\n\n  constructor() {\n    this.id = `${n++}`\n  }\n}\n","import { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: 'app-icon',\n  templateUrl: './icon.component.html',\n  styleUrls: ['./icon.component.less']\n})\nexport class IconComponent implements OnInit {\n  @Input() className: string;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<span\n  class=\"material-icons\"\n  [ngClass]=\"className\"\n  [ngStyle]=\"{\n    'font-size': '18px',\n    'vertical-align': 'text-bottom'\n  }\"\n>\n  <ng-content></ng-content>\n</span>\n","import { Injectable, Injector, StaticProvider, ViewContainerRef } from \"@angular/core\";\nimport { ObjectSet } from \"../utils/object-set\";\nimport { ComponentPortal, ComponentType } from \"@angular/cdk/portal\";\n\nexport interface CustomElement {\n  type: string;\n  comp: ComponentType<any>\n}\n\n@Injectable()\nexport class RegistryNsElement {\n  elements = new ObjectSet<CustomElement>('type');\n\n  constructor() {\n  }\n\n  add(components: any[]) {\n    components.forEach(comp => {\n      const content: CustomElement = {} as CustomElement;\n      content.type = comp.type;\n      content.comp = comp;\n      this.elements.add(content);\n    })\n  }\n\n  get(type: string): CustomElement {\n    return this.elements.get(type);\n  }\n\n  getComponentPortal(type: string, providers: StaticProvider[], parentInjector: Injector, defaultComp?: ComponentType<any>) {\n    const component = this.get(type)?.comp || defaultComp;\n    if (!component) {\n      throw Error(`Not found ${type} Component`);\n    }\n    return new ComponentPortal<any>(component, null, this.getInjector(providers, parentInjector));\n  }\n\n  getInjector(providers: StaticProvider[], parentInjector: Injector): Injector {\n    return Injector.create(providers, parentInjector);\n  }\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {PortalModule} from '@angular/cdk/portal';\nimport {PlaceholderComponent} from './placeholder/placeholder.component';\nimport {CheckListComponent} from './examples/check-list/check-list.component';\nimport {RichTextComponent} from './examples/rich-text/rich-text.component';\nimport {ButtonComponent} from './components/button/button.component';\nimport {EditorValueComponent} from './components/editor-value/editor-value.component';\nimport {IconComponent} from './components/icon/icon.component';\nimport {InstructionComponent} from './components/instruction/instruction.component';\nimport {MenuComponent} from './components/menu/menu.component';\nimport {ToolbarComponent} from './components/toolbar/toolbar.component';\nimport {IconButtonComponent} from './examples/rich-text/icon-button/icon-button.component';\nimport {CustomLeafComponent} from './examples/rich-text/custom-leaf/custom-leaf.component';\nimport {LeafItemComponent} from './examples/rich-text/custom-leaf/leaf-item/leaf-item.component';\nimport {CustomComponents} from './examples/rich-text/element';\nimport {NzAlertModule} from 'ng-zorro-antd/alert';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {CheckListItemComponent} from './examples/check-list/check-list-item/check-list-item.component';\nimport {CodeHighlightingComponent} from './examples/code-highlighting/code-highlighting.component';\nimport {FormsModule} from '@angular/forms';\nimport {LeafComponent} from './examples/code-highlighting/custom-leaf/custom-leaf.component';\nimport {EditableVoidsComponent} from './examples/editable-voids/editable-voids.component';\nimport {InsertEditableVoidButtonComponent} from './examples/editable-voids/insert-editable-void-button/insert-editable-void-button.component';\nimport {EditableVoidComponent} from './examples/editable-voids/editable-void/editable-void.component';\nimport {MarkdownPreviewComponent} from './examples/markdown-preview/markdown-preview.component';\nimport {MarkdownLeafComponent} from './examples/markdown-preview/markdown-leaf.component';\nimport {CustomPlaceholderComponent} from './examples/custom-placeholder/custom-placeholder.component';\nimport {EmbedsComponent} from './examples/embeds/embeds.component';\nimport {UrlInputComponent} from './examples/embeds/url-input/url-input.component';\nimport {VideoElementComponent} from './examples/embeds/video-element/video-element.component';\nimport {SafeUrlPipe} from './examples/embeds/safe-url.pipe';\nimport {ForcedLayoutComponent, ForcedLayoutTitleElement} from './examples/forced-layout/forced-layout.component';\nimport {HugeDocumentComponent} from './examples/huge-document/huge-document.component';\nimport {HugeDocumentH1} from './examples/huge-document/huge-document-h1';\nimport {HoveringToolbarComponent} from './examples/hovering-toolbar/hovering-toolbar.component';\nimport {PortalComponent} from './examples/hovering-toolbar/portal/portal.component';\nimport {FormatButtonComponent} from './examples/hovering-toolbar/format-button/format-button.component';\nimport {OverlayModule} from '@angular/cdk/overlay';\nimport {IframeComponent} from './examples/iframe/iframe.component';\nimport {IframeContainerComponent} from './examples/iframe/iframe-container/iframe-container.component';\nimport {TableComponent} from './examples/table/table.component';\nimport {CustomTableElements} from './examples/table/element';\nimport {MarkdownShortcutsComponent} from './examples/markdown-shortcuts/markdown-shortcuts.component';\nimport {SlateNgModule} from 'slate-ng-view';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PlaceholderComponent,\n    CheckListComponent,\n    RichTextComponent,\n    ButtonComponent,\n    EditorValueComponent,\n    IconComponent,\n    InstructionComponent,\n    MenuComponent,\n    ToolbarComponent,\n    IconButtonComponent,\n    CustomLeafComponent,\n    LeafItemComponent,\n    ...CustomComponents,\n    CheckListItemComponent,\n    CodeHighlightingComponent,\n    LeafComponent,\n    EditableVoidsComponent,\n    InsertEditableVoidButtonComponent,\n    EditableVoidComponent,\n    MarkdownPreviewComponent,\n    MarkdownLeafComponent,\n    CustomPlaceholderComponent,\n    EmbedsComponent,\n    UrlInputComponent,\n    VideoElementComponent,\n    SafeUrlPipe,\n    ForcedLayoutComponent,\n    ForcedLayoutTitleElement,\n    HugeDocumentComponent,\n    HugeDocumentH1,\n    HoveringToolbarComponent,\n    PortalComponent,\n    FormatButtonComponent,\n    IframeComponent,\n    IframeContainerComponent,\n    TableComponent,\n    ...CustomTableElements,\n    MarkdownShortcutsComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    SlateNgModule,\n    PortalModule,\n    NzAlertModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    OverlayModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import { Directive, HostBinding } from \"@angular/core\";\n\n@Directive({\n  selector: '[nsPlaceholderAttrs]'\n})\nexport class PlaceholderAttrsDirective {\n  @HostBinding('attr.data-slate-placeholder') dataSlatePlaceholder = true;\n  @HostBinding('attr.contentEditable') contentEditable = false;\n  @HostBinding('style.display') styleDisplay = 'block';\n  @HostBinding('style.pointer-events') stylePointerEvent = 'none';\n  @HostBinding('style.user-select') styleUserSelect = 'none';\n  @HostBinding('style.text-decoration') styleTextDecoration = 'none';\n  @HostBinding('style.position') stylePosition = 'absolute';\n  @HostBinding('style.width') styleWidth = '100%';\n  @HostBinding('style.max-width') styleMaxWidth = '100%';\n  @HostBinding('style.opacity') styleOpacity = 0.333;\n  @HostBinding('style.top') styleTop = 0;\n\n  constructor() { }\n}\n","import {\n  AfterContentChecked, AfterViewInit,\n  ChangeDetectorRef,\n  ComponentRef,\n  Directive,\n  ElementRef,\n  HostBinding,\n  Inject,\n  OnDestroy, OnInit, ViewChild,\n  ViewChildren\n} from \"@angular/core\";\nimport { CHILD_PORTALS_TOKEN, CURRENT_NODE_TOKEN, KEY_TOKEN } from \"./token\";\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport { Key } from \"../../utils/key\";\nimport { ELEMENT_TO_NODE, KEY_TO_ELEMENT, NODE_TO_ELEMENT } from \"../../utils/weak-maps\";\nimport { Editor, Node } from \"slate\";\nimport getDirection from \"direction\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { NsDepsService } from \"../../services/ns-deps.service\";\nimport { NsEditorService } from \"../../services/ns-editor.service\";\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class BaseElementComponent implements OnInit, OnDestroy {\n  destroy$$ = new Subject();\n\n  @HostBinding(\"attr.data-slate-node\") dataSlateNode = undefined;\n  @HostBinding(\"attr.data-slate-void\")  dataSlateVoid = undefined;\n  @HostBinding(\"attr.data-slate-inline\") dataSlateInline = undefined;\n  @HostBinding(\"attr.contenteditable\") contentEditable = undefined;\n  @HostBinding(\"attr.dir\")  dir = undefined;\n\n  get injector() {\n    return this.deps.get(this.key)?.injector;\n  }\n\n  get cNode() {\n    return this.injector.get(CURRENT_NODE_TOKEN);\n  }\n\n  get portals() {\n    return this.injector.get(CHILD_PORTALS_TOKEN);\n  }\n\n  protected constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    protected deps: NsDepsService,\n    protected editorService: NsEditorService,\n    protected elementRef?: ElementRef,\n    protected cdr?: ChangeDetectorRef,\n  ) {\n  }\n\n  ngOnInit() {\n    // init options ngOnInit\n    this.init();\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n    this.destroy$$.next();\n    this.destroy$$.complete();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  init(options?: {useHostAttrs?: boolean, el?: ElementRef}) {\n    const {el, useHostAttrs = true} = options || {};\n    const nativeElement = el?.nativeElement || this.elementRef.nativeElement;\n    KEY_TO_ELEMENT.set(this.key, nativeElement);\n    NODE_TO_ELEMENT.set(this.cNode, nativeElement);\n    ELEMENT_TO_NODE.set(nativeElement, this.cNode);\n    useHostAttrs && this.updateAttrs();\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    KEY_TO_ELEMENT.delete(this.key);\n    NODE_TO_ELEMENT.delete(this.cNode);\n  }\n\n  /**\n   * componentPortal \n   * @param index\n   * @param item\n   */\n  trackBy(index, item: ComponentPortal<any>) {\n    return (item.injector.get(KEY_TOKEN) as Key)?.id || index;\n  }\n\n  /**\n   * watch deps change\n   */\n  watchDeps() {\n    this.deps.watch(this.key).pipe(takeUntil(this.destroy$$)).subscribe(e => {\n      this.cdr.markForCheck();\n    })\n  }\n\n  /**\n   * watch deps callback\n   */\n  watchDepsCallback() {}\n\n  /**\n   * update host attrs\n   */\n  updateAttrs() {\n    this.dataSlateNode = 'element';\n    const editor = this.editorService.editor;\n    const isInline = editor.isInline(this.cNode);\n    isInline && (this.dataSlateInline = true);\n\n    if (!isInline && Editor.hasInlines(editor, this.cNode)) {\n      const text = Node.string(this.cNode);\n      const dir = getDirection(text);\n\n      if (dir === \"rtl\") {\n        this.dir = dir;\n      }\n    }\n    if (Editor.isVoid(editor, this.cNode)) {\n      this.dataSlateVoid = true;\n\n      if (isInline) {\n        this.contentEditable = false;\n      }\n    }\n  }\n}\n","import { Editor, Node, Path, Point, Range, Transforms } from 'slate';\nimport { Injector } from '@angular/core';\nimport {\n  DOMElement,\n  DOMNode,\n  DOMRange,\n  DOMPoint,\n  DOMSelection,\n  DOMStaticRange,\n  hasShadowRoot,\n  isDOMElement,\n  isDOMSelection, normalizeDOMPoint\n} from '../utils/dom';\nimport { Key } from '../utils/key';\nimport {\n  EDITOR_TO_ELEMENT,\n  EDITOR_TO_WINDOW, ELEMENT_TO_NODE, IS_FOCUSED, IS_READ_ONLY,\n  KEY_TO_ELEMENT,\n  NODE_TO_INDEX,\n  NODE_TO_KEY,\n  NODE_TO_PARENT\n} from '../utils/weak-maps';\nimport { IS_CHROME } from '../utils/environment';\n\n/**\n * A Angular and DOM-specific version of the `Editor` interface.\n */\n\nexport interface AngularEditor extends Editor {\n  insertData: (data: DataTransfer) => void;\n  setFragmentData: (data: DataTransfer) => void;\n  onKeydown: (event: KeyboardEvent) => void;\n  onClick: (event: MouseEvent) => void;\n  equalsNodeKey: (node: Node, another: Node) => boolean;\n  injector: Injector;\n  isBlockCard: (node: Node) => boolean;\n  onError: (errorData: any) => void;\n}\n\nexport const AngularEditor = {\n  ...Editor,\n\n  /**\n   * Return the host window of the current editor.\n   */\n\n  getWindow(editor: AngularEditor): Window {\n    const window = EDITOR_TO_WINDOW.get(editor);\n    if (!window) {\n      throw new Error('Unable to find a host window element for this editor');\n    }\n    return window;\n  },\n\n\n  /**\n   * Find the path of Slate node.\n   */\n\n  findPath(editor: AngularEditor, node: Node): Path {\n    const path: Path = [];\n    let child = node;\n\n    while (true) {\n      const parent = NODE_TO_PARENT.get(child);\n\n      if (parent == null) {\n        if (Editor.isEditor(child)) {\n          return path;\n        } else {\n          break;\n        }\n      }\n\n      const i = NODE_TO_INDEX.get(child);\n\n      if (i == null) {\n        break;\n      }\n\n      path.unshift(i);\n      child = parent;\n    }\n\n    throw new Error(\n      `Unable to find the path for Slate node: ${JSON.stringify(node)}`\n    );\n  },\n\n\n  /**\n   * Insert data from a `DataTransfer` into the editor.\n   */\n\n  insertData(editor: AngularEditor, data: DataTransfer): void {\n    editor.insertData(data);\n  },\n\n  /**\n   * Sets data from the currently selected fragment on a `DataTransfer`.\n   */\n\n  setFragmentData(editor: AngularEditor, data: DataTransfer): void {\n    editor.setFragmentData(data);\n  },\n\n  /**\n   * Check if a DOM node is within the editor.\n   */\n\n  hasDOMNode(\n    editor: AngularEditor,\n    target: DOMNode,\n    options: { editable?: boolean } = {}\n  ): boolean {\n    const { editable = false } = options;\n    const editorEl = AngularEditor.toDOMNode(editor, editor);\n    let targetEl;\n\n    // COMPAT: In Firefox, reading `target.nodeType` will throw an error if\n    // target is originating from an internal \"restricted\" element (e.g. a\n    // stepper arrow on a number input). (2018/05/04)\n    // https://github.com/ianstormtaylor/slate/issues/1819\n    try {\n      targetEl = (isDOMElement(target)\n        ? target\n        : target.parentElement) as HTMLElement;\n    } catch (err) {\n      if (\n        !err.message.includes('Permission denied to access property \"nodeType\"')\n      ) {\n        throw err;\n      }\n    }\n\n    if (!targetEl) {\n      return false;\n    }\n\n    return (\n      targetEl.closest(`[data-slate-ng-editor]`) === editorEl &&\n      (!editable ||\n        targetEl.isContentEditable ||\n        !!targetEl.getAttribute('data-slate-zero-width'))\n    );\n  },\n\n  /**\n   * Find the native DOM element from a Slate node.\n   */\n\n  toDOMNode(editor: AngularEditor, node: Node): HTMLElement {\n    const domNode = Editor.isEditor(node)\n      ? EDITOR_TO_ELEMENT.get(editor)\n      : KEY_TO_ELEMENT.get(AngularEditor.findKey(editor, node));\n\n    if (!domNode) {\n      throw new Error(\n        `Cannot resolve a DOM node from Slate node: ${JSON.stringify(node)}`\n      );\n    }\n\n    return domNode;\n  },\n\n  /**\n   * Find a key for a Slate node.\n   */\n\n  findKey(editor: AngularEditor, node: Node): Key {\n    let key = NODE_TO_KEY.get(node);\n\n    if (!key) {\n      key = new Key();\n      NODE_TO_KEY.set(node, key);\n    }\n\n    return key;\n  },\n\n  /**\n   *\n   */\n  findKeyNoSet(editor: AngularEditor, node: Node): Key {\n    let key = NODE_TO_KEY.get(node);\n\n    if (!key) {\n      key = new Key();\n    }\n\n    return key;\n  },\n\n  /**\n   * has a key\n   */\n  hasKey(node: Node): boolean {\n    return !!NODE_TO_KEY.get(node);\n  },\n\n  /**\n   * Find a Slate range from a DOM range or selection.\n   */\n\n  toSlateRange<T extends boolean>(\n    editor: AngularEditor,\n    domRange: DOMRange | DOMStaticRange | DOMSelection,\n    options: {\n      exactMatch: T\n    }\n  ): T extends true ? Range | null : Range {\n    const { exactMatch } = options;\n    const el = isDOMSelection(domRange)\n      ? domRange.anchorNode\n      : domRange.startContainer;\n    let anchorNode;\n    let anchorOffset;\n    let focusNode;\n    let focusOffset;\n    let isCollapsed;\n\n    if (el) {\n      if (isDOMSelection(domRange)) {\n        anchorNode = domRange.anchorNode;\n        anchorOffset = domRange.anchorOffset;\n        focusNode = domRange.focusNode;\n        focusOffset = domRange.focusOffset;\n        // COMPAT: There's a bug in chrome that always returns `true` for\n        // `isCollapsed` for a Selection that comes from a ShadowRoot.\n        // (2020/08/08)\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n        if (IS_CHROME && hasShadowRoot()) {\n          isCollapsed =\n            domRange.anchorNode === domRange.focusNode &&\n            domRange.anchorOffset === domRange.focusOffset;\n        } else {\n          isCollapsed = domRange.isCollapsed;\n        }\n      } else {\n        anchorNode = domRange.startContainer;\n        anchorOffset = domRange.startOffset;\n        focusNode = domRange.endContainer;\n        focusOffset = domRange.endOffset;\n        isCollapsed = domRange.collapsed;\n      }\n    }\n\n    if (\n      anchorNode == null ||\n      focusNode == null ||\n      anchorOffset == null ||\n      focusOffset == null\n    ) {\n      throw new Error(\n        `Cannot resolve a Slate range from DOM range: ${domRange}`\n      );\n    }\n\n    const anchor = AngularEditor.toSlatePoint(\n      editor,\n      [anchorNode, anchorOffset],\n      exactMatch\n    );\n    if (!anchor) {\n      return null as T extends true ? Range | null : Range;\n    }\n\n    const focus = isCollapsed\n      ? anchor\n      : AngularEditor.toSlatePoint(editor, [focusNode, focusOffset], exactMatch);\n    if (!focus) {\n      return null as T extends true ? Range | null : Range;\n    }\n\n    return ({ anchor, focus } as unknown) as T extends true\n      ? Range | null\n      : Range;\n  },\n\n  /**\n   * Find a Slate point from a DOM selection's `domNode` and `domOffset`.\n   */\n\n  toSlatePoint<T extends boolean>(\n    editor: AngularEditor,\n    domPoint: DOMPoint,\n    extractMatch: T,\n  ): T extends true ? Point | null : Point {\n    const [nearestNode, nearestOffset] = extractMatch\n      ? domPoint\n      : normalizeDOMPoint(domPoint);\n\n    const parentNode = nearestNode.parentNode as DOMElement;\n\n    let textNode: DOMElement | null = null;\n    let offset = 0;\n\n    if (parentNode) {\n      const voidNode = parentNode.closest('[data-slate-void=\"true\"]');\n      let leafNode = parentNode.closest('[data-slate-leaf]');\n      let domNode: DOMElement | null = null;\n      // Calculate how far into the text node the `nearestNode` is, so that we\n      // can determine what the offset relative to the text node is.\n      if (leafNode) {\n        textNode = leafNode.closest('[data-slate-node=\"text\"]')!;\n\n        const window = AngularEditor.getWindow(editor);\n        const range = window.document.createRange();\n        range.setStart(textNode, 0);\n        range.setEnd(nearestNode, nearestOffset);\n        const contents = range.cloneContents();\n        const removals = [\n          ...Array.prototype.slice.call(\n            contents.querySelectorAll('[data-slate-zero-width]')\n          ),\n          ...Array.prototype.slice.call(\n            contents.querySelectorAll('[contenteditable=false]')\n          )\n        ];\n\n        removals.forEach(el => {\n          el!.parentNode!.removeChild(el);\n        });\n\n        // COMPAT: Edge has a bug where Range.prototype.toString() will\n        // convert \\n into \\r\\n. The bug causes a loop when slate-react\n        // attempts to reposition its cursor to match the native position. Use\n        // textContent.length instead.\n        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\n        offset = contents.textContent!.length;\n        domNode = textNode;\n      } else if (voidNode) {\n        // For void nodes, the element with the offset key will be a cousin, not an\n        // ancestor, so find it by going down from the nearest void parent.\n        leafNode = voidNode.querySelector('[data-slate-leaf]')!;\n\n        // COMPAT: In read-only editors the leaf is not rendered.\n        if (!leafNode) {\n          offset = 1;\n        } else {\n          // \n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!;\n\n          const window = AngularEditor.getWindow(editor);\n          const range = window.document.createRange();\n          range.setStart(textNode, 0);\n          range.setEnd(nearestNode, nearestOffset);\n          const contents = range.cloneContents();\n          const removals = [\n            ...Array.prototype.slice.call(\n              contents.querySelectorAll('[data-slate-zero-width]')\n            ),\n            ...Array.prototype.slice.call(\n              contents.querySelectorAll('[contenteditable=false]')\n            )\n          ];\n\n          removals.forEach(el => {\n            el!.parentNode!.removeChild(el);\n          });\n\n          // COMPAT: Edge has a bug where Range.prototype.toString() will\n          // convert \\n into \\r\\n. The bug causes a loop when slate-react\n          // attempts to reposition its cursor to match the native position. Use\n          // textContent.length instead.\n          // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\n          offset = contents.textContent!.length;\n          domNode = textNode;\n        }\n      }\n\n      // COMPAT: If the parent node is a Slate zero-width space, editor is\n      // because the text node should have no characters. However, during IME\n      // composition the ASCII characters will be prepended to the zero-width\n      // space, so subtract 1 from the offset to account for the zero-width\n      // space character.\n      if (\n        domNode &&\n        offset === domNode.textContent!.length &&\n        parentNode.hasAttribute('data-slate-zero-width')\n      ) {\n        offset--;\n      }\n    }\n\n    if (!textNode) {\n      if (extractMatch) {\n        return null as T extends true ? Point | null : Point;\n      }\n      throw new Error(\n        `Cannot resolve a Slate point from DOM point: ${domPoint}`\n      );\n    }\n\n    // COMPAT: If someone is clicking from one Slate editor into another,\n    // the select event fires twice, once for the old editor's `element`\n    // first, and then afterwards for the correct `element`. (2017/03/03)\n    const slateNode = AngularEditor.toSlateNode(editor, textNode!);\n    const path = AngularEditor.findPath(editor, slateNode);\n    return { path, offset } as T extends true ? Point | null : Point;\n  },\n\n  /**\n   * Find a Slate node from a native DOM `element`.\n   */\n\n  toSlateNode(editor: AngularEditor, domNode: DOMNode): Node {\n    let domEl = isDOMElement(domNode) ? domNode : domNode.parentElement;\n\n    if (domEl && !domEl.hasAttribute('data-slate-node')) {\n      domEl = domEl.closest(`[data-slate-node]`);\n    }\n\n    const node = domEl ? ELEMENT_TO_NODE.get(domEl as HTMLElement) : null;\n\n    if (!node) {\n      throw new Error(`Cannot resolve a Slate node from DOM node: ${domEl}`);\n    }\n\n    return node;\n  },\n\n  /**\n   * Get the target range from a DOM `event`.\n   */\n\n  findEventRange(editor: AngularEditor, event: any): Range {\n    if ('nativeEvent' in event) {\n      event = event.nativeEvent;\n    }\n\n    const { clientX: x, clientY: y, target } = event;\n\n    if (x == null || y == null) {\n      throw new Error(`Cannot resolve a Slate range from a DOM event: ${event}`);\n    }\n\n    const node = AngularEditor.toSlateNode(editor, event.target);\n    const path = AngularEditor.findPath(editor, node);\n\n    // If the drop target is inside a void node, move it into either the\n    // next or previous node, depending on which side the `x` and `y`\n    // coordinates are closest to.\n    if (Editor.isVoid(editor, node)) {\n      const rect = target.getBoundingClientRect();\n      const isPrev = editor.isInline(node)\n        ? x - rect.left < rect.left + rect.width - x\n        : y - rect.top < rect.top + rect.height - y;\n\n      const edge = Editor.point(editor, path, {\n        edge: isPrev ? 'start' : 'end'\n      });\n      const point = isPrev\n        ? Editor.before(editor, edge)\n        : Editor.after(editor, edge);\n\n      if (point) {\n        const range = Editor.range(editor, point);\n        return range;\n      }\n    }\n\n    // Else resolve a range from the caret position where the drop occured.\n    let domRange;\n    const { document } = window;\n\n    // COMPAT: In Firefox, `caretRangeFromPoint` doesn't exist. (2016/07/25)\n    if (document.caretRangeFromPoint) {\n      domRange = document.caretRangeFromPoint(x, y);\n    } else {\n      const position = document.caretPositionFromPoint(x, y);\n\n      if (position) {\n        domRange = document.createRange();\n        domRange.setStart(position.offsetNode, position.offset);\n        domRange.setEnd(position.offsetNode, position.offset);\n      }\n    }\n\n    if (!domRange) {\n      throw new Error(`Cannot resolve a Slate range from a DOM event: ${event}`);\n    }\n\n    // Resolve a Slate range from the DOM range.\n    const range = AngularEditor.toSlateRange(editor, domRange, {\n      exactMatch: false\n    });\n    return range;\n  },\n\n  /**\n   * Find the DOM node that implements DocumentOrShadowRoot for the editor.\n   */\n\n  findDocumentOrShadowRoot(editor: AngularEditor): Document | ShadowRoot {\n    const el = AngularEditor.toDOMNode(editor, editor);\n    const root = el.getRootNode();\n\n    // The below exception will always be thrown for iframes because the document inside an iframe\n    // does not inherit it's prototype from the parent document, therefore we return early\n    if (el.ownerDocument !== document) { return el.ownerDocument; }\n\n    if (!(root instanceof Document || root instanceof ShadowRoot)) {\n      throw new Error(\n        `Unable to find DocumentOrShadowRoot for editor element: ${el}`\n      );\n    }\n\n    // COMPAT: Only Chrome implements the DocumentOrShadowRoot mixin for\n    // ShadowRoot; other browsers still implement it on the Document\n    // interface. (2020/08/08)\n    // https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot#Properties\n    if (root.getSelection === undefined && el.ownerDocument !== null) {\n      return el.ownerDocument;\n    }\n\n    return root;\n  },\n\n  /**\n   * Check if the editor is focused.\n   */\n\n  isFocused(editor: AngularEditor): boolean {\n    return !!IS_FOCUSED.get(editor);\n  },\n\n  /**\n   * Check if the editor is in read-only mode.\n   */\n\n  isReadOnly(editor: AngularEditor): boolean {\n    return !!IS_READ_ONLY.get(editor);\n  },\n\n\n  /**\n   * Blur the editor.\n   */\n\n  blur(editor: AngularEditor): void {\n    const el = AngularEditor.toDOMNode(editor, editor);\n    const root = AngularEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, false);\n\n    if (root.activeElement === el) {\n      el.blur();\n    }\n  },\n\n  /**\n   * Focus the editor.\n   */\n\n  focus(editor: AngularEditor): void {\n    const el = AngularEditor.toDOMNode(editor, editor);\n    const root = AngularEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, true);\n\n    if (root.activeElement !== el) {\n      el.focus({ preventScroll: true });\n    }\n  },\n\n  /**\n   * Deselect the editor.\n   */\n\n  deselect(editor: AngularEditor): void {\n    const el = AngularEditor.toDOMNode(editor, editor);\n    const { selection } = editor;\n    const root = AngularEditor.findDocumentOrShadowRoot(editor);\n    const domSelection = root.getSelection();\n\n    if (domSelection && domSelection.rangeCount > 0) {\n      domSelection.removeAllRanges();\n    }\n\n    if (selection) {\n      Transforms.deselect(editor);\n    }\n  },\n\n  /**\n   * Find a native DOM range from a Slate `range`.\n   *\n   * Notice: the returned range will always be ordinal regardless of the direction of Slate `range` due to DOM API limit.\n   *\n   * there is no way to create a reverse DOM Range using Range.setStart/setEnd\n   * according to https://dom.spec.whatwg.org/#concept-range-bp-set.\n   */\n  toDOMRange(editor: AngularEditor, range: Range): DOMRange {\n    const { anchor, focus } = range;\n    const isBackward = Range.isBackward(range);\n    const domAnchor = AngularEditor.toDOMPoint(editor, anchor);\n    const domFocus = Range.isCollapsed(range)\n      ? domAnchor\n      : AngularEditor.toDOMPoint(editor, focus);\n\n    const window = AngularEditor.getWindow(editor);\n    const domRange = window.document.createRange();\n    const [startNode, startOffset] = isBackward ? domFocus : domAnchor;\n    const [endNode, endOffset] = isBackward ? domAnchor : domFocus;\n\n    // A slate Point at zero-width Leaf always has an offset of 0 but a native DOM selection at\n    // zero-width node has an offset of 1 so we have to check if we are in a zero-width node and\n    // adjust the offset accordingly.\n    const startEl = (isDOMElement(startNode)\n      ? startNode\n      : startNode.parentElement) as HTMLElement;\n    const isStartAtZeroWidth = !!startEl.getAttribute('data-slate-zero-width');\n    const endEl = (isDOMElement(endNode)\n      ? endNode\n      : endNode.parentElement) as HTMLElement;\n    const isEndAtZeroWidth = !!endEl.getAttribute('data-slate-zero-width');\n\n    domRange.setStart(startNode, isStartAtZeroWidth ? 1 : startOffset);\n    domRange.setEnd(endNode, isEndAtZeroWidth ? 1 : endOffset);\n    return domRange;\n  },\n\n  /**\n   * Find a native DOM selection point from a Slate point.\n   */\n  toDOMPoint(editor: AngularEditor, point: Point): DOMPoint {\n    const [node] = Editor.node(editor, point.path);\n    const el = AngularEditor.toDOMNode(editor, node);\n    let domPoint: DOMPoint | undefined;\n\n    // If we're inside a void node, force the offset to 0, otherwise the zero\n    // width spacing character will result in an incorrect offset of 1\n    if (Editor.void(editor, { at: point })) {\n      point = { path: point.path, offset: 0 };\n    }\n\n    // For each leaf, we need to isolate its content, which means filtering\n    // to its direct text and zero-width spans. (We have to filter out any\n    // other siblings that may have been rendered alongside them.)\n    const selector = `[data-slate-string], [data-slate-zero-width]`;\n    const texts = Array.from(el.querySelectorAll(selector));\n    let start = 0;\n\n    for (const text of texts) {\n      const domNode = text.childNodes[0] as HTMLElement;\n\n      if (domNode == null || domNode.textContent == null) {\n        continue;\n      }\n\n      const { length } = domNode.textContent;\n      const attr = text.getAttribute('data-slate-length');\n      const trueLength = attr == null ? length : parseInt(attr, 10);\n      const end = start + trueLength;\n\n      if (point.offset <= end) {\n        const offset = Math.min(length, Math.max(0, point.offset - start));\n        domPoint = [domNode, offset];\n        break;\n      }\n\n      start = end;\n    }\n\n    if (!domPoint) {\n      throw new Error(\n        `Cannot resolve a DOM point from Slate point: ${JSON.stringify(point)}`\n      );\n    }\n\n    return domPoint;\n  },\n\n  hasRange(editor: AngularEditor, range: Range): boolean {\n    const { anchor, focus } = range;\n    return (\n      Editor.hasPath(editor, anchor.path) && Editor.hasPath(editor, focus.path)\n    );\n  }\n};\n","import { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: 'app-instruction',\n  templateUrl: './instruction.component.html',\n  styleUrls: ['./instruction.component.less']\n})\nexport class InstructionComponent implements OnInit {\n  @Input() className: string;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div\n  [className]=\"className\"\n  [ngStyle]=\"{\n    whiteSpace: 'pre-wrap',\n    margin: '0 -20px 10px',\n    padding: '10px 20px',\n    fontSize: '14px',\n    background: '#f8f8f8'\n  }\"\n></div>\n","import { isKeyHotkey } from 'is-hotkey';\nimport { IS_APPLE } from './environment';\n\n/**\n * Hotkey mappings for each platform.\n */\n\nconst HOTKEYS = {\n  bold: 'mod+b',\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\n  moveBackward: 'left',\n  moveForward: 'right',\n  moveWordBackward: 'ctrl+left',\n  moveWordForward: 'ctrl+right',\n  deleteBackward: 'shift?+backspace',\n  deleteForward: 'shift?+delete',\n  extendBackward: 'shift+left',\n  extendForward: 'shift+right',\n  italic: 'mod+i',\n  splitBlock: 'shift?+enter',\n  undo: 'mod+z',\n};\n\nconst APPLE_HOTKEYS = {\n  moveLineBackward: 'opt+up',\n  moveLineForward: 'opt+down',\n  moveWordBackward: 'opt+left',\n  moveWordForward: 'opt+right',\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\n  deleteLineBackward: 'cmd+shift?+backspace',\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\n  deleteWordBackward: 'opt+shift?+backspace',\n  deleteWordForward: 'opt+shift?+delete',\n  extendLineBackward: 'opt+shift+up',\n  extendLineForward: 'opt+shift+down',\n  redo: 'cmd+shift+z',\n  transposeCharacter: 'ctrl+t',\n};\n\nconst WINDOWS_HOTKEYS = {\n  deleteWordBackward: 'ctrl+shift?+backspace',\n  deleteWordForward: 'ctrl+shift?+delete',\n  redo: ['ctrl+y', 'ctrl+shift+z'],\n};\n\n/**\n * Create a platform-aware hotkey checker.\n */\n\nconst create = (key: string) => {\n  const generic = HOTKEYS[key];\n  const apple = APPLE_HOTKEYS[key];\n  const windows = WINDOWS_HOTKEYS[key];\n  const isGeneric = generic && isKeyHotkey(generic);\n  const isApple = apple && isKeyHotkey(apple);\n  const isWindows = windows && isKeyHotkey(windows);\n\n  return (event: KeyboardEvent) => {\n    if (isGeneric && isGeneric(event)) { return true; }\n    if (IS_APPLE && isApple && isApple(event)) { return true; }\n    if (!IS_APPLE && isWindows && isWindows(event)) { return true; }\n    return false;\n  };\n};\n\n/**\n * Hotkeys.\n */\n\nexport default {\n  isBold: create('bold'),\n  isCompose: create('compose'),\n  isMoveBackward: create('moveBackward'),\n  isMoveForward: create('moveForward'),\n  isDeleteBackward: create('deleteBackward'),\n  isDeleteForward: create('deleteForward'),\n  isDeleteLineBackward: create('deleteLineBackward'),\n  isDeleteLineForward: create('deleteLineForward'),\n  isDeleteWordBackward: create('deleteWordBackward'),\n  isDeleteWordForward: create('deleteWordForward'),\n  isExtendBackward: create('extendBackward'),\n  isExtendForward: create('extendForward'),\n  isExtendLineBackward: create('extendLineBackward'),\n  isExtendLineForward: create('extendLineForward'),\n  isItalic: create('italic'),\n  isMoveLineBackward: create('moveLineBackward'),\n  isMoveLineForward: create('moveLineForward'),\n  isMoveWordBackward: create('moveWordBackward'),\n  isMoveWordForward: create('moveWordForward'),\n  isRedo: create('redo'),\n  isSplitBlock: create('splitBlock'),\n  isTransposeCharacter: create('transposeCharacter'),\n  isUndo: create('undo'),\n};\n","import { Component, Inject, OnInit } from \"@angular/core\";\nimport { BasePlaceholderComponent } from \"slate-ng-view\";\nimport { PLACEHOLDER_CHILDREN_TOKEN } from \"slate-ng-view/components/element/token\";\n\n@Component({\n  selector: 'app-placeholder',\n  templateUrl: './placeholder.component.html',\n  styleUrls: ['./placeholder.component.less']\n})\nexport class PlaceholderComponent extends BasePlaceholderComponent implements OnInit {\n  static type = 'placeholder';\n\n  constructor(\n    @Inject(PLACEHOLDER_CHILDREN_TOKEN) readonly children: any\n  ) {\n    super()\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>\n  {{children}}\n</p>\n","import { Component, ElementRef, HostBinding, Inject, OnInit } from '@angular/core';\nimport { BaseElementComponent, NsEditorService, Key, KEY_TOKEN, NsDepsService } from 'slate-ng-view';\n\n@Component({\n  selector: 'div[app-editable-void]',\n  templateUrl: './editable-void.component.html',\n  styleUrls: ['./editable-void.component.less']\n})\nexport class EditableVoidComponent extends BaseElementComponent {\n  static type = 'editable-void';\n  @HostBinding('attr.contenteditable') contentEditable = false;\n  name = '';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    protected deps: NsDepsService,\n    protected editorService: NsEditorService,\n    protected elementRef?: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n","<div class=\"void-box\">\n  <h4>Name: </h4>\n  <input\n    type=\"text\"\n    [style]=\"{margin: '8px 0'}\"\n    [(ngModel)]=\"name\"\n  />\n  <h4>Left or Right handed: </h4>\n  <input type=\"radio\" name=\"handedness\" value=\"left\" [style]=\"{width: 'unset'}\" />Left<br />\n  <input type=\"radio\" name=\"handedness\" value=\"right\" [style]=\"{width: 'unset'}\" />Right <br />\n\n  <h4>Tell us about u:</h4>\n  <div [style]=\"{padding: '20px', border: '2px solid #ddd'}\">\n    <app-rich-text></app-rich-text>\n  </div>\n</div>\n\n<ns-portal-entry [portals]=\"portals\"></ns-portal-entry>\n\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { createEditor, Descendant, Element as SlateElement, Node, Transforms } from 'slate';\nimport { ParagraphElement, TitleElement } from '../../../../custom-types';\nimport { withHistory } from 'slate-history';\nimport {\n  RegistryNsElement,\n  NsEditorService,\n  withAngular,\n  NsDepsService,\n  BaseElementComponent,\n  KEY_TOKEN, Key\n} from 'slate-ng-view';\n\nconst withLayout = editor => {\n  const { normalizeNode } = editor;\n\n  editor.normalizeNode = ([node, path]) => {\n    if (path.length === 0) {\n      if (editor.children.length < 1) {\n        const title: TitleElement = {\n          type: 'title',\n          children: [{ text: 'Untitled' }],\n        };\n        Transforms.insertNodes(editor, title, { at: path.concat(0) });\n      }\n\n      if (editor.children.length < 2) {\n        const paragraph: ParagraphElement = {\n          type: 'paragraph',\n          children: [{ text: '' }],\n        };\n        Transforms.insertNodes(editor, paragraph, { at: path.concat(1) });\n      }\n\n      for (const [child, childPath] of Node.children(editor, path)) {\n        const type = childPath[0] === 0 ? 'title' : 'paragraph';\n\n        if (SlateElement.isElement(child) && (child as any).type !== type) {\n          const newProperties: Partial<SlateElement & {type: any}> = { type };\n          Transforms.setNodes(editor, newProperties, { at: childPath });\n        }\n      }\n    }\n\n    return normalizeNode([node, path]);\n  };\n\n  return editor;\n};\n\n@Component({\n  selector: 'app-forced-layout',\n  templateUrl: './forced-layout.component.html',\n  styleUrls: ['./forced-layout.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class ForcedLayoutComponent implements OnInit {\n  editor = withLayout(withHistory(withAngular(createEditor())));\n  initialValue: any[] = [\n    {\n      type: 'title',\n      children: [{ text: 'Enforce Your Layout!' }],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'This example shows how to enforce your layout with domain-specific constraints. This document will always have a title block at the top and at least one paragraph in the body. Try deleting them and see what happens!',\n        },\n      ],\n    },\n  ];\n  constructor(\n    private registry: RegistryNsElement\n  ) { }\n\n  ngOnInit(): void {\n    this.registry.add([ForcedLayoutTitleElement]);\n  }\n}\n\n@Component({\n  selector: 'h2[forced-layout-title]',\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `\n})\nexport class ForcedLayoutTitleElement extends BaseElementComponent {\n  static type = 'title';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n  ) {\n    super(key, deps, editorService, elementRef);\n  }\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Enter a title\"\n  spellCheck\n  autoFocus\n></div>\n","import {Component, OnInit} from '@angular/core';\nimport {createEditor, Editor, Element as SlateElement, Point, Range, Transforms} from 'slate';\nimport {withHistory} from 'slate-history';\nimport {NsDepsService, NsEditorService, RegistryNsElement, withAngular} from 'slate-ng-view';\nimport {CustomComponents} from '../rich-text/element';\nimport {BulletedListElement} from '../../../../custom-types';\n\n\nconst SHORTCUTS = {\n  '*': 'list-item',\n  '-': 'list-item',\n  '+': 'list-item',\n  '>': 'block-quote',\n  '#': 'heading-one',\n  '##': 'heading-two',\n  '###': 'heading-three',\n  '####': 'heading-four',\n  '#####': 'heading-five',\n  '######': 'heading-six',\n};\n\nconst withShortcuts = editor => {\n  const {deleteBackward, insertText} = editor;\n\n  editor.insertText = text => {\n    const {selection} = editor;\n\n    if (text === ' ' && selection && Range.isCollapsed(selection)) {\n      const {anchor} = selection;\n      const block = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n      });\n      const path = block ? block[1] : [];\n      const start = Editor.start(editor, path);\n      const range = {anchor, focus: start};\n      const beforeText = Editor.string(editor, range);\n      const type = SHORTCUTS[beforeText];\n\n      if (type) {\n        Transforms.select(editor, range);\n        Transforms.delete(editor);\n        const newProperties: Partial<SlateElement & { type: any }> = {\n          type,\n        };\n        Transforms.setNodes(editor, newProperties, {\n          match: n => Editor.isBlock(editor, n),\n        });\n\n        if (type === 'list-item') {\n          const list: BulletedListElement = {\n            type: 'bulleted-list',\n            children: [],\n          };\n          Transforms.wrapNodes(editor, list, {\n            match: n =>\n              !Editor.isEditor(n) &&\n              SlateElement.isElement(n) &&\n              (n as any).type === 'list-item',\n          });\n        }\n\n        return;\n      }\n    }\n\n    insertText(text);\n  };\n\n  editor.deleteBackward = (...args) => {\n    const {selection} = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const match = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n      });\n\n      if (match) {\n        const [block, path] = match;\n        const start = Editor.start(editor, path);\n\n        if (\n          !Editor.isEditor(block) &&\n          SlateElement.isElement(block) &&\n          (block as any).type !== 'paragraph' &&\n          Point.equals(selection.anchor, start)\n        ) {\n          const newProperties: Partial<SlateElement & { type: any }> = {\n            type: 'paragraph',\n          };\n          Transforms.setNodes(editor, newProperties);\n\n          if ((block as any).type === 'list-item') {\n            Transforms.unwrapNodes(editor, {\n              match: n =>\n                !Editor.isEditor(n) &&\n                SlateElement.isElement(n) &&\n                (n as any).type === 'bulleted-list',\n              split: true,\n            });\n          }\n\n          return;\n        }\n      }\n\n      deleteBackward(...args);\n    }\n  };\n\n  return editor;\n};\n\n@Component({\n  selector: 'app-markdown-shortcuts',\n  templateUrl: './markdown-shortcuts.component.html',\n  styleUrls: ['./markdown-shortcuts.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class MarkdownShortcutsComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'The editor gives you full control over the logic you can add. For example, it\\'s fairly common to want to add markdown-like shortcuts to editors. So that, when you start a line with \"> \" you get a blockquote that looks like this:',\n        },\n      ],\n    },\n    {\n      type: 'block-quote',\n      children: [{text: 'A wise quote.'}],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Order when you start a line with \"## \" you get a level-two heading, like this:',\n        },\n      ],\n    },\n    {\n      type: 'heading-two',\n      children: [{text: 'Try it out!'}],\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Try it out for yourself! Try starting a new line with \">\", \"-\", or \"#\"s.',\n        },\n      ],\n    },\n  ];\n  editor = withShortcuts(withHistory(withAngular(createEditor())));\n\n  constructor(\n    private registryNsElement: RegistryNsElement\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.registryNsElement.add([...CustomComponents]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  spellCheck\n  autoFocus\n  placeholder=\"Write some markdown\"\n></div>\n","import { Component, OnInit } from '@angular/core';\nimport { NsEditorService } from \"slate-ng-view\";\n\n@Component({\n  selector: 'app-portal',\n  templateUrl: './portal.component.html',\n  styleUrls: ['./portal.component.less']\n})\nexport class PortalComponent implements OnInit {\n  menuStyle = {\n    padding: '8px 7px 6px',\n    'background-color': '#222',\n    'border-radius': '4px',\n    transition: 'opacity 0.75s',\n    width: 'max-content'\n  };\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-menu [customStyle]=\"menuStyle\">\n  <app-format-button format=\"bold\" icon=\"format_bold\"></app-format-button>\n  <app-format-button format=\"italic\" icon=\"format_italic\"></app-format-button>\n  <app-format-button format=\"underline\" icon=\"format_underline\"></app-format-button>\n</app-menu>\n","/*\n * Public API Surface of slate-ng-view\n */\n\nexport * from './slate-ng.module';\n\n// component\nexport * from './components/editable/editable.component';\nexport * from './components/element/base-element';\nexport * from './components/text/leaf/base-leaf.component';\nexport * from './components/text/placeholder/base-placeholder.component';\nexport * from './components/portal-entry/portal-entry.component';\n\n// slate plugin\nexport * from './plugins/with-angular';\nexport * from './plugins/angular-editor';\n\n// service\nexport * from './services/ns-deps.service';\nexport * from './services/ns-editor.service';\nexport * from './services/registry-ns-element.service';\n\n// directive\nexport * from './directives/element-attrs.directive';\nexport * from './directives/leaf-attrs.directive';\nexport * from './directives/placeholder-attrs.directive';\n\n// common\nexport * from './components/element/token';\nexport * from './utils/key';\n","import { AngularEditor } from \"../plugins/angular-editor\";\nimport { DOMNode, isDOMNode } from \"./dom\";\nimport { Editor } from \"slate\";\n\n/**\n * Check if the target is in the editor.\n */\nexport const hasTarget = (\n  editor: AngularEditor,\n  target: EventTarget | null\n): target is DOMNode => {\n  return isDOMNode(target) && AngularEditor.hasDOMNode(editor, target);\n};\n\n\n/**\n * Check if an event is overrided by a handler.\n */\n\nexport const isEventHandled = (\n  event: Event,\n  handler?: (event: Event) => void\n) => {\n  if (!handler) {\n    return false;\n  }\n  handler(event);\n  return event.defaultPrevented;\n};\n\n/**\n * Check if the target is inside void and in the editor.\n */\n\nexport const isTargetInsideVoid = (\n  editor: AngularEditor,\n  target: EventTarget | null\n): boolean => {\n  const slateNode =\n    hasTarget(editor, target) && AngularEditor.toSlateNode(editor, target)\n  return Editor.isVoid(editor, slateNode)\n}\n\n\n/**\n * Check if a DOM event is overrided by a handler.\n */\n\nexport const isDOMEventHandled = <E extends Event>(\n  event: E,\n  handler?: (event: E) => void\n) => {\n  if (!handler) {\n    return false;\n  }\n\n  handler(event);\n  return event.defaultPrevented;\n};\n\n/**\n * Check if the target is editable and in the editor.\n */\n\nexport const hasEditableTarget = (\n  editor: AngularEditor,\n  target: EventTarget | null\n) => {\n  return (\n    isDOMNode(target) &&\n    AngularEditor.hasDOMNode(editor, target, { editable: true })\n  );\n};\n","\nexport class ObjectSet<T extends object> {\n  private store: object = {};\n  private readonly keyName: string = '';\n\n  constructor(keyName: string) {\n    this.keyName = keyName;\n    return this;\n  }\n\n  gets(): Array<T> {\n    return Object.values(this.store);\n  }\n\n\n  get(valueKey: string): T {\n    return this.store[valueKey];\n  }\n\n  add(value: T) {\n    this.store[value[this.keyName]] = value;\n  }\n\n  remove(value: T) {\n    delete this.store[value[this.keyName]];\n  }\n\n  has(value: T) {\n    return !!this.store[value[this.keyName]];\n  }\n\n  forEach(callback: (item: T, index: number, self: ObjectSet<T>) => {}) {\n    for(let i = 0; i < this.gets().length; i++) {\n      callback(this.gets()[i], i, this);\n    }\n  }\n}\n","import {\n  AfterContentChecked,\n  ChangeDetectorRef, Component,\n  ElementRef, EventEmitter,\n  SimpleChanges,\n  Input,\n  NgZone,\n  OnChanges,\n  OnInit,\n  Output,\n  Renderer2,\n  OnDestroy\n} from '@angular/core';\nimport { AngularEditor } from '../../plugins/angular-editor';\nimport { Descendant, Editor, Element, Node, NodeEntry, Path, Range, Transforms } from 'slate';\nimport { InputBoolean } from '../../utils/convert';\nimport { UntilDestroy } from '@ngneat/until-destroy';\nimport { HAS_BEFORE_INPUT_SUPPORT } from '../../polyfills/before-input/before-input-event-plugin';\nimport { getDefaultView, isDOMNode, isPlainTextOnlyPaste } from '../../utils/dom';\nimport {\n  EDITOR_TO_ELEMENT,\n  EDITOR_TO_ON_CHANGE,\n  EDITOR_TO_WINDOW,\n  ELEMENT_TO_NODE, IS_FOCUSED, IS_READ_ONLY,\n  NODE_TO_ELEMENT, NODE_TO_KEY\n} from '../../utils/weak-maps';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport {IS_CHROME, IS_FIREFOX, IS_SAFARI} from '../../utils/environment';\nimport { fromEvent, interval, Subject } from 'rxjs';\nimport { takeUntil, throttle } from 'rxjs/operators';\nimport { hasEditableTarget, hasTarget, isEventHandled, isTargetInsideVoid } from '../../utils/common';\nimport getDirection from 'direction';\nimport Hotkeys from '../../utils/hotkeys';\nimport { NsEditorService } from '../../services/ns-editor.service';\n\n\n/**\n * A default memoized decorate function.\n */\n\nconst defaultDecorate: (entry: NodeEntry) => Range[] = () => [];\n\n\n// In Internet Explorer, contenteditable cannot be applied to\n// the <table>, <col>, <colgroup>, <tbody>, <td>, <tfoot>, <th>, <thead>, and <tr> elements directly.\n// A content editable <span> or <div> element can be\n// placed inside the individual table cells.\n\n@UntilDestroy({ checkProperties: true })\n@Component({\n  selector: 'div[ns-editor], span[ns-editor]',\n  host: {\n    '[attr.contenteditable]': '!readonly',\n    '[attr.data-slate-ng-editor]': 'true',\n    '[attr.data-slate-node]': '\\'value\\'',\n    '[attr.data-gramm]': 'false',\n    '[attr.spellCheck]': `!hasBeforeInputSupport ? undefined : spellCheck`,\n    '[attr.autoCorrect]': `!hasBeforeInputSupport ? undefined : autoCorrect`,\n    '[attr.autoCapitalize]': `!hasBeforeInputSupport ? undefined : autoCapitalize`,\n    '[attr.suppressContentEditableWarning]': 'true'\n  },\n  template: `\n    <ns-children [placeholder]=\"placeholder\" [decorate]=\"decorate\"></ns-children>\n    <ng-content></ng-content>\n  `,\n  styles: [':host {position: relative; outline: none; white-space: pre-wrap; word-wrap: break-word;}']\n})\nexport class EditableComponent implements OnInit, OnChanges, AfterContentChecked, OnDestroy {\n  @Input() @InputBoolean() readonly = false;\n  @Input() editor: AngularEditor;\n  @Input() value: Descendant[];\n  @Input() decorate: (entry: NodeEntry) => Range[] = defaultDecorate;\n\n  // extended event\n  @Input() nsBeforeInput: (e: InputEvent) => {};\n  @Input() nsOnClick: (e: Event) => {};\n  @Input() nsOnCompositionStart: (e: CompositionEvent) => {};\n  @Input() nsOnCompositionUpdate: (e: CompositionEvent) => {};\n  @Input() nsOnCompositionEnd: (e: CompositionEvent) => {};\n  @Input() nsOnBlur: (e: FocusEvent) => {};\n  @Input() nsOnCopy: (e: ClipboardEvent) => {};\n  @Input() nsOnCut: (e: ClipboardEvent) => {};\n  @Input() nsOnDragOver: (e: DragEvent) => {};\n  @Input() nsOnDragStart: (e: DragEvent) => {};\n  @Input() nsOnDrop: (e: DragEvent) => {};\n  @Input() nsOnFocus: (e: FocusEvent) => {};\n  @Input() nsOnKeyDown: (e: KeyboardEvent) => {};\n  @Input() nsOnPaste: (e: ClipboardEvent) => {};\n  @Input() nsOnBeforeInput: (e: InputEvent) => {};\n  @Input() nsSelectionChange: (e: Event) => {};\n\n  //#region DOM attr\n  @Input() @InputBoolean() spellCheck = false;\n  @Input() @InputBoolean() autoCorrect = false;\n  @Input() @InputBoolean() autoCapitalize = false;\n  @Input() @InputBoolean() autoFocus = false;\n  @Input() placeholder: string;\n\n  // output event\n  @Output() valueChange = new EventEmitter();\n\n  isComposing = false;\n  manualListeners: Function[] = [];\n  isUpdatingSelection = false;\n  latestElement = null;\n  destroy$$ = new Subject();\n\n  get hasBeforeInputSupport() {\n    return HAS_BEFORE_INPUT_SUPPORT;\n  }\n\n  constructor(\n    private editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public renderer2: Renderer2,\n    public cdr: ChangeDetectorRef,\n    private ngZone: NgZone\n  ) {\n  }\n\n  ngOnInit() {\n    this.editor = this.editorService.init(this.editor, this.value);\n    this.updateWeakMap();\n\n    EDITOR_TO_ON_CHANGE.set(this.editor, () => {\n      this.valueChange.emit(this.editor.children);\n      this.toNativeSelection();\n    });\n    this.ngZone.runOutsideAngular(() => {\n      fromEvent(EDITOR_TO_WINDOW.get(this.editor).document, 'selectionchange')\n        .pipe(\n          throttle(\n            (value: Event) => {\n              return interval(100);\n            },\n            { trailing: true, leading: true }\n          ),\n          takeUntil(this.destroy$$)\n        )\n        .subscribe(event => {\n          this.toSlateSelection();\n          this.nsSelectionChange && this.nsSelectionChange(event);\n        });\n      const fn = () => {\n        IS_FOCUSED.set(this.editor, AngularEditor.isFocused(this.editor));\n      };\n      this.addEventListener('focus', fn, document);\n      this.addEventListener('blur', fn, document);\n      this.addEventListener('beforeinput', (event: InputEvent) => this.onDOMBeforeInput(event));\n      this.addEventListener('click', (event: Event) => this.onDOMClick(event));\n      // \n      this.addEventListener('compositionstart', (event: CompositionEvent) => this.onDOMCompositionStart(event));\n      this.addEventListener('compositionupdate', (event: CompositionEvent) => this.onDOMCompositionUpdate(event));\n      this.addEventListener('compositionend', (event: CompositionEvent) => this.onDOMCompositionEnd(event));\n      // other\n      this.addEventListener('blur', (event: FocusEvent) => this.onDOMBlur(event));\n      this.addEventListener('copy', (event: ClipboardEvent) => this.onDOMCopy(event));\n      this.addEventListener('cut', (event: ClipboardEvent) => this.onDOMCut(event));\n      this.addEventListener('dragover', (event: DragEvent) => this.onDOMDragOver(event));\n      this.addEventListener('dragstart', (event: DragEvent) => this.onDOMDragStart(event));\n      this.addEventListener('drop', (event: DragEvent) => this.onDOMDrop(event));\n      this.addEventListener('focus', (event: FocusEvent) => this.onDOMFocus(event));\n      this.addEventListener('keydown', (event: KeyboardEvent) => this.onDOMKeyDown(event));\n      this.addEventListener('paste', (event: ClipboardEvent) => this.onDOMPaste(event));\n    });\n  }\n\n  ngOnDestroy() {\n    NODE_TO_ELEMENT.delete(this.editor);\n    EDITOR_TO_ON_CHANGE.delete(this.editor);\n    this.manualListeners.forEach(manualListener => manualListener());\n    this.destroy$$.next();\n    this.destroy$$.complete();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // The autoFocus TextareaHTMLAttribute doesn't do anything on a div, so it\n    // needs to be manually focused.\n    if (changes.autoFocus?.currentValue !== changes.autoFocus?.previousValue) {\n      this.elementRef.nativeElement.focus();\n    }\n  }\n\n  ngAfterContentChecked() {\n    IS_READ_ONLY.set(this.editor, this.readonly);\n  }\n\n  toNativeSelection() {\n    const editor = this.editor;\n    const { selection } = editor;\n    const root = AngularEditor.findDocumentOrShadowRoot(editor);\n    const domSelection = root.getSelection();\n    if (this.isComposing || !domSelection || !AngularEditor.isFocused(editor)) {\n      return;\n    }\n\n    const hasDomSelection = domSelection.type !== 'None';\n\n    // If the DOM selection is properly unset, we're done.\n    if (!selection && !hasDomSelection) {\n      return;\n    }\n\n    // verify that the dom selection is in the editor\n    const editorElement = EDITOR_TO_ELEMENT.get(editor)!;\n    let hasDomSelectionInEditor = false;\n    if (\n      editorElement.contains(domSelection.anchorNode) &&\n      editorElement.contains(domSelection.focusNode)\n    ) {\n      hasDomSelectionInEditor = true;\n    }\n\n    // If the DOM selection is in the editor and the editor selection is already correct, we're done.\n    if (hasDomSelection && hasDomSelectionInEditor && selection) {\n      const slateRange = AngularEditor.toSlateRange(editor, domSelection, {\n        exactMatch: true, // see https://github.com/ianstormtaylor/slate/pull/4304\n      });\n      if (slateRange && Range.equals(slateRange, selection)) {\n        return;\n      }\n    }\n\n    // when <Editable/> is being controlled through external value\n    // then its children might just change - DOM responds to it on its own\n    // but Slate's value is not being updated through any operation\n    // and thus it doesn't transform selection on its own\n    if (selection && !AngularEditor.hasRange(editor, selection)) {\n      editor.selection = AngularEditor.toSlateRange(editor, domSelection, {\n        exactMatch: false\n      });\n      return;\n    }\n\n    // Otherwise the DOM selection is out of sync, so update it.\n    const el = AngularEditor.toDOMNode(editor, editor);\n    this.isUpdatingSelection = true;\n\n    const newDomRange = selection && AngularEditor.toDOMRange(editor, selection);\n\n    if (newDomRange) {\n      if (Range.isBackward(selection!)) {\n        domSelection.setBaseAndExtent(\n          newDomRange.endContainer,\n          newDomRange.endOffset,\n          newDomRange.startContainer,\n          newDomRange.startOffset\n        );\n      } else {\n        domSelection.setBaseAndExtent(\n          newDomRange.startContainer,\n          newDomRange.startOffset,\n          newDomRange.endContainer,\n          newDomRange.endOffset\n        );\n      }\n      const leafEl = newDomRange.startContainer.parentElement!;\n      leafEl.getBoundingClientRect = newDomRange.getBoundingClientRect.bind(\n        newDomRange\n      );\n      scrollIntoView(leafEl, {\n        scrollMode: 'if-needed',\n        boundary: el\n      });\n      // @ts-ignore\n      delete leafEl.getBoundingClientRect;\n    } else {\n      domSelection.removeAllRanges();\n    }\n\n    setTimeout(() => {\n      // COMPAT: In Firefox, it's not enough to create a range, you also need\n      // to focus the contenteditable element too. (2016/11/16)\n      if (newDomRange && IS_FIREFOX) {\n        el.focus();\n      }\n\n      this.isUpdatingSelection = false;\n    });\n  }\n\n  toSlateSelection() {\n    if (!this.readonly && !this.isComposing && !this.isUpdatingSelection) {\n      const editor = this.editor;\n      const root = AngularEditor.findDocumentOrShadowRoot(editor);\n      const { activeElement } = root;\n      const el = AngularEditor.toDOMNode(editor, editor);\n      const domSelection = root.getSelection();\n      if (activeElement === el) {\n        this.latestElement = activeElement;\n        IS_FOCUSED.set(editor, true);\n      } else {\n        IS_FOCUSED.delete(editor);\n      }\n\n      if (!domSelection) {\n        return Transforms.deselect(editor);\n      }\n\n      const { anchorNode, focusNode } = domSelection;\n      const anchorNodeSelectable =\n        hasEditableTarget(editor, anchorNode) ||\n        isTargetInsideVoid(editor, anchorNode);\n\n      const focusNodeSelectable =\n        hasEditableTarget(editor, focusNode) ||\n        isTargetInsideVoid(editor, focusNode);\n      if (anchorNodeSelectable && focusNodeSelectable) {\n        const range = AngularEditor.toSlateRange(editor, domSelection, {\n          exactMatch: false\n        });\n        Transforms.select(editor, range);\n      } else {\n        Transforms.deselect(editor);\n      }\n    }\n  }\n\n  updateWeakMap() {\n    let window;\n    const nativeEl = this.elementRef.nativeElement;\n    const editor = this.editor;\n\n    if (nativeEl && (window = getDefaultView(nativeEl))) {\n      EDITOR_TO_WINDOW.set(editor, window);\n      EDITOR_TO_ELEMENT.set(editor, nativeEl);\n      NODE_TO_ELEMENT.set(editor, nativeEl);\n      ELEMENT_TO_NODE.set(nativeEl, editor);\n    } else {\n      NODE_TO_ELEMENT.delete(editor);\n    }\n  }\n\n  private onDOMBeforeInput(event: InputEvent) {\n    if (\n      this.readonly ||\n      isEventHandled(event, this.nsOnBeforeInput) ||\n      !hasEditableTarget(this.editor, event.target)\n    ) {\n      return;\n    }\n    if (!HAS_BEFORE_INPUT_SUPPORT) {\n      // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n      // fall back to React's leaky polyfill instead just for it. It\n      // only works for the `insertText` input type.\n      event.preventDefault();\n      if (!this.isComposing) {\n        const text = (event as any).data as string;\n        Editor.insertText(this.editor, text);\n      }\n    } else if (HAS_BEFORE_INPUT_SUPPORT) {\n      const editor = this.editor;\n      const { selection } = editor;\n      const { inputType: type } = event;\n      const data = (event as any).dataTransfer || event.data || undefined;\n\n      // These two types occur while a user is composing text and can't be\n      // cancelled. Let them through and wait for the composition to end.\n      if (\n        type === 'insertCompositionText' ||\n        type === 'deleteCompositionText'\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      // COMPAT: For the deleting forward/backward input types we don't want\n      // to change the selection because it is the range that will be deleted,\n      // and those commands determine that for themselves.\n      if (!type.startsWith('delete') || type.startsWith('deleteBy')) {\n        const [targetRange] = (event as any).getTargetRanges();\n\n        if (targetRange) {\n          const range = AngularEditor.toSlateRange(editor, targetRange, {\n            exactMatch: false\n          });\n\n          if (!selection || !Range.equals(selection, range)) {\n            Transforms.select(editor, range);\n          }\n        }\n      }\n\n      // COMPAT: If the selection is expanded, even if the command seems like\n      // a delete forward/backward command it should delete the selection.\n      if (\n        selection &&\n        Range.isExpanded(selection) &&\n        type.startsWith('delete')\n      ) {\n        const direction = type.endsWith('Backward') ? 'backward' : 'forward';\n        Editor.deleteFragment(editor, { direction });\n        return;\n      }\n\n      switch (type) {\n        case 'deleteByComposition':\n        case 'deleteByCut':\n        case 'deleteByDrag': {\n          Editor.deleteFragment(editor);\n          break;\n        }\n\n        case 'deleteContent':\n        case 'deleteContentForward': {\n          Editor.deleteForward(editor);\n          break;\n        }\n\n        case 'deleteContentBackward': {\n          Editor.deleteBackward(editor);\n          break;\n        }\n\n        case 'deleteEntireSoftLine': {\n          Editor.deleteBackward(editor, { unit: 'line' });\n          Editor.deleteForward(editor, { unit: 'line' });\n          break;\n        }\n\n        case 'deleteHardLineBackward': {\n          Editor.deleteBackward(editor, { unit: 'block' });\n          break;\n        }\n\n        case 'deleteSoftLineBackward': {\n          Editor.deleteBackward(editor, { unit: 'line' });\n          break;\n        }\n\n        case 'deleteHardLineForward': {\n          Editor.deleteForward(editor, { unit: 'block' });\n          break;\n        }\n\n        case 'deleteSoftLineForward': {\n          Editor.deleteForward(editor, { unit: 'line' });\n          break;\n        }\n\n        case 'deleteWordBackward': {\n          Editor.deleteBackward(editor, { unit: 'word' });\n          break;\n        }\n\n        case 'deleteWordForward': {\n          Editor.deleteForward(editor, { unit: 'word' });\n          break;\n        }\n\n        case 'insertLineBreak':\n        case 'insertParagraph': {\n          Editor.insertBreak(editor);\n          break;\n        }\n\n        case 'insertFromComposition':\n        case 'insertFromDrop':\n        case 'insertFromPaste':\n        case 'insertFromYank':\n        case 'insertReplacementText':\n        case 'insertText': {\n          if (type === 'insertFromComposition') {\n            // COMPAT: in Safari, `compositionend` is dispatched after the\n            // `beforeinput` for \"insertFromComposition\". But if we wait for it\n            // then we will abort because we're still composing and the selection\n            // won't be updated properly.\n            // https://www.w3.org/TR/input-events-2/\n            this.isComposing = false;\n          }\n\n          const window = AngularEditor.getWindow(editor);\n          if (data instanceof window.DataTransfer) {\n            AngularEditor.insertData(editor, data as DataTransfer);\n          } else if (typeof data === 'string') {\n            Editor.insertText(editor, data);\n          }\n\n          break;\n        }\n      }\n    }\n  }\n\n  private onDOMClick(event: Event) {\n    if (\n      !this.readonly &&\n      hasTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnClick) &&\n      isDOMNode(event.target)\n    ) {\n      const node = AngularEditor.toSlateNode(this.editor, event.target);\n      const path = AngularEditor.findPath(this.editor, node);\n      const start = Editor.start(this.editor, path);\n      const end = Editor.end(this.editor, path);\n\n      const startVoid = Editor.void(this.editor, { at: start });\n      const endVoid = Editor.void(this.editor, { at: end });\n\n      if (\n        startVoid &&\n        endVoid &&\n        Path.equals(startVoid[1], endVoid[1])\n      ) {\n        const range = Editor.range(this.editor, start);\n        Transforms.select(this.editor, range);\n      }\n    }\n  }\n\n  private onDOMCompositionStart(event: CompositionEvent) {\n    if (\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnCompositionStart)\n    ) {\n      const { selection } = this.editor;\n      if (selection && Range.isExpanded(selection)) {\n        Editor.deleteFragment(this.editor);\n      }\n    }\n  }\n\n  private onDOMCompositionUpdate(event: CompositionEvent) {\n    if (\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnCompositionUpdate)\n    ) {\n      this.isComposing = true;\n      // this.placeholder = '';\n    }\n  }\n\n  private onDOMCompositionEnd(event: CompositionEvent) {\n    if (\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnCompositionEnd)\n    ) {\n      this.isComposing = false;\n      // COMPAT: In Chrome, `beforeinput` events for compositions\n      // aren't correct and never fire the \"insertFromComposition\"\n      // type that we need. So instead, insert whenever a composition\n      // ends since it will already have been committed to the DOM.\n      if (!IS_SAFARI && !IS_FIREFOX && event.data) {\n        Editor.insertText(this.editor, event.data);\n      }\n    }\n  }\n\n  private onDOMBlur(event: FocusEvent) {\n    if (\n      this.readonly ||\n      this.isUpdatingSelection ||\n      !hasEditableTarget(this.editor, event.target) ||\n      isEventHandled(event, this.nsOnBlur)\n    ) {\n      return;\n    }\n\n    // COMPAT: If the current `activeElement` is still the previous\n    // one, this is due to the window being blurred when the tab\n    // itself becomes unfocused, so we want to abort early to allow to\n    // editor to stay focused when the tab becomes focused again.\n    const root = AngularEditor.findDocumentOrShadowRoot(this.editor);\n    if (this.latestElement === root.activeElement) {\n      return;\n    }\n\n    const { relatedTarget } = event;\n    const el = AngularEditor.toDOMNode(this.editor, this.editor);\n\n    // COMPAT: The event should be ignored if the focus is returning\n    // to the editor from an embedded editable element (eg. an <input>\n    // element inside a void node).\n    if (relatedTarget === el) {\n      return;\n    }\n\n    // COMPAT: The event should be ignored if the focus is moving from\n    // the editor to inside a void node's spacer element.\n    // if (isDOMElement(relatedTarget) && relatedTarget.hasAttribute('data-slate-spacer')) {\n    //   return;\n    // }\n\n    // COMPAT: The event should be ignored if the focus is moving to a\n    // non- editable section of an element that isn't a void node (eg.\n    // a list item of the check list example).\n    if (\n      relatedTarget != null &&\n      isDOMNode(relatedTarget) &&\n      AngularEditor.hasDOMNode(this.editor, relatedTarget)\n    ) {\n      const node = AngularEditor.toSlateNode(this.editor, relatedTarget);\n\n      if (Element.isElement(node) && !this.editor.isVoid(node)) {\n        return;\n      }\n    }\n\n    // COMPAT: Safari doesn't always remove the selection even if the content-\n    // editable element no longer has focus. Refer to:\n    // https://stackoverflow.com/questions/12353247/force-contenteditable-div-to-stop-accepting-input-after-it-loses-focus-under-web\n    if (IS_SAFARI) {\n      const domSelection = root.getSelection();\n      domSelection?.removeAllRanges();\n    }\n\n    IS_FOCUSED.delete(this.editor);\n  }\n\n  private onDOMCopy(event: ClipboardEvent) {\n    if (hasEditableTarget(this.editor, event.target) && !isEventHandled(event, this.nsOnCopy)) {\n      event.preventDefault();\n      AngularEditor.setFragmentData(this.editor, event.clipboardData);\n    }\n  }\n\n  private onDOMCut(event: ClipboardEvent) {\n    if (\n      !this.readonly &&\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnCut)\n    ) {\n      event.preventDefault();\n      AngularEditor.setFragmentData(this.editor, event.clipboardData);\n      const { selection } = this.editor;\n\n      if (selection) {\n        if (Range.isExpanded(selection)) {\n          Editor.deleteFragment(this.editor);\n        } else {\n          const node = Node.parent(this.editor, selection.anchor.path);\n\n          if (Editor.isVoid(this.editor, node)) {\n            Transforms.delete(this.editor);\n          }\n        }\n      }\n    }\n  }\n\n  private onDOMDragOver(event: DragEvent) {\n    if (\n      hasTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnDragOver)\n    ) {\n      const node = AngularEditor.toSlateNode(this.editor, event.target);\n\n      if (Editor.isVoid(this.editor, node)) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  private onDOMDragStart(event: DragEvent) {\n    if (\n      hasTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnDragStart)\n    ) {\n      const node = AngularEditor.toSlateNode(this.editor, event.target);\n      const path = AngularEditor.findPath(this.editor, node);\n      const voidMatch = Editor.void(this.editor, { at: path });\n\n      // If starting a drag on a void node, make sure it is selected\n      // so that it shows up in the selection's fragment.\n      if (voidMatch) {\n        const range = Editor.range(this.editor, path);\n        Transforms.select(this.editor, range);\n      }\n\n      AngularEditor.setFragmentData(this.editor, event.dataTransfer);\n    }\n  }\n\n  private onDOMDrop(event: DragEvent) {\n    if (\n      hasTarget(this.editor, event.target) &&\n      !this.readonly &&\n      !isEventHandled(event, this.nsOnDrop)\n    ) {\n      // COMPAT: Certain browsers don't fire `beforeinput` events at all, and\n      // Chromium browsers don't properly fire them for files being\n      // dropped into a `contenteditable`. (2019/11/26)\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=1028668\n      if (\n        !HAS_BEFORE_INPUT_SUPPORT ||\n        (!IS_SAFARI && event.dataTransfer.files.length > 0)\n      ) {\n        event.preventDefault();\n        const range = AngularEditor.findEventRange(this.editor, event);\n        const data = event.dataTransfer;\n        Transforms.select(this.editor, range);\n        AngularEditor.insertData(this.editor, data);\n      }\n    }\n  }\n\n  private onDOMFocus(event: FocusEvent) {\n    if (\n      !this.readonly &&\n      !this.isUpdatingSelection &&\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnFocus)\n    ) {\n      const el = AngularEditor.toDOMNode(this.editor, this.editor);\n      const root = AngularEditor.findDocumentOrShadowRoot(this.editor);\n      this.latestElement = root.activeElement;\n\n      if (IS_FIREFOX && event.target !== el) {\n        el.focus();\n        return;\n      }\n\n      IS_FOCUSED.set(this.editor, true);\n    }\n  }\n\n  private onDOMKeyDown(event: KeyboardEvent) {\n    const editor = this.editor;\n    if (\n      !this.readonly &&\n      hasEditableTarget(editor, event.target) &&\n      !isEventHandled(event, this.nsOnKeyDown)\n    ) {\n      const nativeEvent = event;\n      const { selection } = editor;\n\n      const element = editor.children[selection !== null ? selection.focus.path[0] : 0];\n      const isRTL = getDirection(Node.string(element)) === 'rtl';\n\n      // COMPAT: Since we prevent the default behavior on\n      // `beforeinput` events, the browser doesn't think there's ever\n      // any history stack to undo or redo, so we have to manage these\n      // hotkeys ourselves. (2019/11/06)\n      if (Hotkeys.isRedo(nativeEvent)) {\n        event.preventDefault();\n        const maybeHistoryEditor: any = editor;\n\n        if (typeof maybeHistoryEditor.redo === 'function') {\n          maybeHistoryEditor.redo();\n        }\n\n        return;\n      }\n\n      if (Hotkeys.isUndo(nativeEvent)) {\n        event.preventDefault();\n        const maybeHistoryEditor: any = editor;\n\n        if (typeof maybeHistoryEditor.undo === 'function') {\n          maybeHistoryEditor.undo();\n        }\n\n        return;\n      }\n\n      // COMPAT: Certain browsers don't handle the selection updates\n      // properly. In Chrome, the selection isn't properly extended.\n      // And in Firefox, the selection isn't properly collapsed.\n      // (2017/10/17)\n      if (Hotkeys.isMoveLineBackward(nativeEvent)) {\n        event.preventDefault();\n        Transforms.move(editor, { unit: 'line', reverse: true });\n        return;\n      }\n\n      if (Hotkeys.isMoveLineForward(nativeEvent)) {\n        event.preventDefault();\n        Transforms.move(editor, { unit: 'line' });\n        return;\n      }\n\n      if (Hotkeys.isExtendLineBackward(nativeEvent)) {\n        event.preventDefault();\n        Transforms.move(editor, {\n          unit: 'line',\n          edge: 'focus',\n          reverse: true,\n        });\n        return;\n      }\n\n      if (Hotkeys.isExtendLineForward(nativeEvent)) {\n        event.preventDefault();\n        Transforms.move(editor, { unit: 'line', edge: 'focus' });\n        return;\n      }\n\n      // COMPAT: If a void node is selected, or a zero-width text node\n      // adjacent to an inline is selected, we need to handle these\n      // hotkeys manually because browsers won't be able to skip over\n      // the void node with the zero-width space not being an empty\n      // string.\n      if (Hotkeys.isMoveBackward(nativeEvent)) {\n        event.preventDefault();\n\n        if (selection && Range.isCollapsed(selection)) {\n          Transforms.move(editor, { reverse: !isRTL });\n        } else {\n          Transforms.collapse(editor, { edge: 'start' });\n        }\n\n        return;\n      }\n\n      if (Hotkeys.isMoveForward(nativeEvent)) {\n        event.preventDefault();\n\n        if (selection && Range.isCollapsed(selection)) {\n          Transforms.move(editor, { reverse: isRTL });\n        } else {\n          Transforms.collapse(editor, { edge: 'end' });\n        }\n\n        return;\n      }\n\n      if (Hotkeys.isMoveWordBackward(nativeEvent)) {\n        event.preventDefault();\n\n        if (selection && Range.isExpanded(selection)) {\n          Transforms.collapse(editor, { edge: 'focus' });\n        }\n\n        Transforms.move(editor, { unit: 'word', reverse: !isRTL });\n        return;\n      }\n\n      if (Hotkeys.isMoveWordForward(nativeEvent)) {\n        event.preventDefault();\n\n        if (selection && Range.isExpanded(selection)) {\n          Transforms.collapse(editor, { edge: 'focus' });\n        }\n\n        Transforms.move(editor, { unit: 'word', reverse: isRTL });\n        return;\n      }\n\n      // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n      // fall back to guessing at the input intention for hotkeys.\n      // COMPAT: In iOS, some of these hotkeys are handled in the\n      if (!HAS_BEFORE_INPUT_SUPPORT) {\n        // We don't have a core behavior for these, but they change the\n        // DOM if we don't prevent them, so we have to.\n        if (\n          Hotkeys.isBold(nativeEvent) ||\n          Hotkeys.isItalic(nativeEvent) ||\n          Hotkeys.isTransposeCharacter(nativeEvent)\n        ) {\n          event.preventDefault();\n          return;\n        }\n\n        if (Hotkeys.isSplitBlock(nativeEvent)) {\n          event.preventDefault();\n          Editor.insertBreak(editor);\n          return;\n        }\n\n        if (Hotkeys.isDeleteBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'backward' });\n          } else {\n            Editor.deleteBackward(editor);\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isDeleteForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'forward' });\n          } else {\n            Editor.deleteForward(editor);\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isDeleteLineBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'backward' });\n          } else {\n            Editor.deleteBackward(editor, { unit: 'line' });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isDeleteLineForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'forward' });\n          } else {\n            Editor.deleteForward(editor, { unit: 'line' });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isDeleteWordBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'backward' });\n          } else {\n            Editor.deleteBackward(editor, { unit: 'word' });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isDeleteWordForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor, { direction: 'forward' });\n          } else {\n            Editor.deleteForward(editor, { unit: 'word' });\n          }\n\n          return;\n        }\n      } else {\n        if (IS_CHROME || IS_SAFARI) {\n          // COMPAT: Chrome and Safari support `beforeinput` event but do not fire\n          // an event when deleting backwards in a selected void inline node\n          if (\n            selection &&\n            (Hotkeys.isDeleteBackward(nativeEvent) ||\n              Hotkeys.isDeleteForward(nativeEvent)) &&\n            Range.isCollapsed(selection)\n          ) {\n            const currentNode = Node.parent(\n              editor,\n              selection.anchor.path\n            );\n\n            if (\n              Element.isElement(currentNode) &&\n              Editor.isVoid(editor, currentNode) &&\n              Editor.isInline(editor, currentNode)\n            ) {\n              event.preventDefault();\n              Transforms.delete(editor, { unit: 'block' });\n\n              return;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  private onDOMPaste(event: ClipboardEvent) {\n    if (\n      !this.readonly &&\n      hasEditableTarget(this.editor, event.target) &&\n      !isEventHandled(event, this.nsOnPaste)\n    ) {\n      // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n      // fall back to React's `onPaste` here instead.\n      // COMPAT: Firefox, Chrome and Safari don't emit `beforeinput` events\n      // when \"paste without formatting\" is used, so fallback. (2020/02/20)\n      if (\n        !HAS_BEFORE_INPUT_SUPPORT ||\n        isPlainTextOnlyPaste(event)\n      ) {\n        event.preventDefault();\n        AngularEditor.insertData(this.editor, event.clipboardData);\n      }\n    }\n  }\n\n  private addEventListener(eventName: string, handler: EventListener, target: HTMLElement | Document = this.elementRef.nativeElement) {\n    this.manualListeners.push(\n      this.renderer2.listen(target, eventName, handler)\n    );\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Output,\n  EventEmitter,\n  ContentChild,\n  Input,\n  TemplateRef,\n  ViewChild,\n  ElementRef, AfterViewInit, ComponentFactoryResolver, ApplicationRef, Injector, ViewContainerRef\n} from '@angular/core';\nimport { EditableComponent } from 'slate-ng-view';\nimport { DomPortalOutlet, TemplatePortal } from '@angular/cdk/portal';\n\n@Component({\n  selector: 'app-iframe-container',\n  templateUrl: './iframe-container.component.html',\n  styleUrls: ['./iframe-container.component.less']\n})\nexport class IframeContainerComponent implements OnInit, AfterViewInit {\n  @Input() templateRef: TemplateRef<any>;\n  @Input() containerRef: ViewContainerRef;\n  @Input() tmplContext: any;\n  @Output() onBlur = new EventEmitter();\n\n  @ViewChild('iframe') iframeRef: ElementRef<HTMLIFrameElement>;\n\n  portalOutlet = null;\n\n  constructor(\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _appRef: ApplicationRef,\n    private injector: Injector,\n    private viewContainerRef: ViewContainerRef\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit() {\n    this.show();\n  }\n\n  hide() {\n    this.portalOutlet.detach();\n  }\n\n  show() {\n    const body = this.iframeRef.nativeElement.contentDocument.body;\n    const portalOutlet = new DomPortalOutlet(body, this._componentFactoryResolver, this._appRef, this.injector, document);\n    this.portalOutlet = portalOutlet;\n    const portal = new TemplatePortal(this.templateRef, this.viewContainerRef, this.tmplContext);\n    portalOutlet.attachTemplatePortal(portal);\n  }\n\n}\n","<iframe #iframe (blur)=\"onBlur.emit($event)\">\n</iframe>\n","import { Node, Ancestor, Editor } from 'slate'\nimport { Key } from './key'\nimport { ComponentPortal } from \"@angular/cdk/portal\";\n\n/**\n * Two weak maps that allow us rebuild a path given a node. They are populated\n * at render time such that after a render occurs we can always backtrack.\n */\n\nexport const NODE_TO_INDEX: WeakMap<Node, number> = new WeakMap()\nexport const NODE_TO_PARENT: WeakMap<Node, Ancestor> = new WeakMap()\n\n/**\n * Weak maps that allow us to go between Slate nodes and DOM nodes. These\n * are used to resolve DOM event-related logic into Slate actions.\n */\nexport const EDITOR_TO_WINDOW: WeakMap<Editor, Window> = new WeakMap()\nexport const EDITOR_TO_ELEMENT: WeakMap<Editor, HTMLElement> = new WeakMap()\nexport const EDITOR_TO_PLACEHOLDER: WeakMap<Editor, string> = new WeakMap()\nexport const ELEMENT_TO_NODE: WeakMap<HTMLElement, Node> = new WeakMap()\nexport const KEY_TO_ELEMENT: WeakMap<Key, HTMLElement> = new WeakMap()\nexport const NODE_TO_ELEMENT: WeakMap<Node, HTMLElement> = new WeakMap()\nexport const NODE_TO_KEY: WeakMap<Node, Key> = new WeakMap()\n\n/**\n * Weak maps for storing editor-related state.\n */\n\nexport const IS_READ_ONLY: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_FOCUSED: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_DRAGGING: WeakMap<Editor, boolean> = new WeakMap()\nexport const IS_CLICKING: WeakMap<Editor, boolean> = new WeakMap()\n\n/**\n * Weak map for associating the context `onChange` context with the plugin.\n */\n\nexport const EDITOR_TO_ON_CHANGE = new WeakMap<Editor, () => void>()\n\n/**\n * Symbols.\n */\n\nexport const PLACEHOLDER_SYMBOL = (Symbol('placeholder') as unknown) as string\n\n/**\n * Portal\n */\nexport const KEY_TO_PORTAL: WeakMap<Key, ComponentPortal<any>> = new WeakMap()\nexport const NODE_TO_PORTAL: WeakMap<Node, ComponentPortal<any>> = new WeakMap()\n","import { Component, Input, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.less']\n})\nexport class ToolbarComponent implements OnInit {\n  @Input() className: string;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<app-menu\n  [className]=\"className\"\n  class=\"toolbar\"\n>\n  <ng-content></ng-content>\n</app-menu>\n","import { Component, OnInit } from '@angular/core';\nimport { createEditor, Descendant, Editor, Element as SlateElement, Point, Range } from 'slate';\nimport { withHistory } from 'slate-history';\nimport { NsDepsService, NsEditorService, RegistryNsElement, withAngular } from 'slate-ng-view';\nimport { CustomTableElements } from './element';\nimport { CustomLeafComponent } from '../rich-text/custom-leaf/custom-leaf.component';\n\nconst withTables = editor => {\n  const { deleteBackward, deleteForward, insertBreak } = editor;\n\n  editor.deleteBackward = unit => {\n    const { selection } = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const [cell] = Editor.nodes(editor, {\n        match: n =>\n          !Editor.isEditor(n) &&\n          SlateElement.isElement(n) &&\n          (n as any).type === 'table-cell'\n      });\n\n      if (cell) {\n        const [, cellPath] = cell;\n        const start = Editor.start(editor, cellPath);\n\n        if (Point.equals(selection.anchor, start)) {\n          return;\n        }\n      }\n    }\n\n    deleteBackward(unit);\n  };\n\n  editor.deleteForward = unit => {\n    const { selection } = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const [cell] = Editor.nodes(editor, {\n        match: (n: any) =>\n          !Editor.isEditor(n) &&\n          SlateElement.isElement(n) &&\n          (n as any).type === 'table-cell'\n      });\n\n      if (cell) {\n        const [, cellPath] = cell;\n        const end = Editor.end(editor, cellPath);\n\n        if (Point.equals(selection.anchor, end)) {\n          return;\n        }\n      }\n    }\n\n    deleteForward(unit);\n  };\n\n  editor.insertBreak = () => {\n    const { selection } = editor;\n\n    if (selection) {\n      const [table] = Editor.nodes(editor, {\n        match: (n: any) =>\n          !Editor.isEditor(n) &&\n          SlateElement.isElement(n) &&\n          (n as any).type === 'table'\n      });\n\n      if (table) {\n        return;\n      }\n    }\n\n    insertBreak();\n  };\n\n  return editor;\n};\n\n@Component({\n  selector: 'app-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.less'],\n  providers: [NsEditorService, NsDepsService, RegistryNsElement]\n})\nexport class TableComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'Since the editor is based on a recursive tree model, similar to an HTML document, you can create complex nested structures, like tables:'\n        }\n      ]\n    },\n    {\n      type: 'table',\n      children: [\n        {\n          type: 'table-row',\n          children: [\n            {\n              type: 'table-cell',\n              children: [{ text: '' }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: 'Human', bold: true }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: 'Dog', bold: true }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: 'Cat', bold: true }]\n            }\n          ]\n        },\n        {\n          type: 'table-row',\n          children: [\n            {\n              type: 'table-cell',\n              children: [{ text: '# of Feet', bold: true }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '2' }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '4' }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '4' }]\n            }\n          ]\n        },\n        {\n          type: 'table-row',\n          children: [\n            {\n              type: 'table-cell',\n              children: [{ text: '# of Lives', bold: true }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '1' }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '1' }]\n            },\n            {\n              type: 'table-cell',\n              children: [{ text: '9' }]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'This table is just a basic example of rendering a table, and it doesn\\'t have fancy functionality. But you could augment it to add support for navigating with arrow keys, displaying table headers, adding column and rows, or even formulas if you wanted to get really crazy!'\n        }\n      ]\n    }\n  ];\n  editor = withTables(withHistory(withAngular(createEditor())));\n\n  constructor(\n    private registryNsElement: RegistryNsElement,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.registryNsElement.add([...CustomTableElements, CustomLeafComponent]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n></div>\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Node } from '../custom-leaf.component';\n\n@Component({\n  selector: '[leaf-item]',\n  templateUrl: './leaf-item.component.html',\n  styleUrls: ['./leaf-item.component.less'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class LeafItemComponent implements OnInit {\n  @Input('leaf-item') node: Node;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-container *ngIf=\"node\" [ngSwitch]=\"node.type\">\n  <span *ngSwitchCase=\"'container'\" [leaf-item]=\"node.next\"></span>\n  <strong *ngSwitchCase=\"'bold'\" [leaf-item]=\"node.next\"></strong>\n  <code *ngSwitchCase=\"'code'\" [leaf-item]=\"node.next\"></code>\n  <em *ngSwitchCase=\"'italic'\" [leaf-item]=\"node.next\"></em>\n  <u *ngSwitchCase=\"'underline'\" [leaf-item]=\"node.next\"></u>\n  <ng-template ngSwitchDefault [cdkPortalOutlet]=\"node.portal\"></ng-template>\n</ng-container>\n\n","import { Editor, Node, Operation, Path, Range, Transforms } from 'slate';\nimport { AngularEditor } from './angular-editor';\nimport { EDITOR_TO_ON_CHANGE, NODE_TO_KEY } from '../utils/weak-maps';\nimport { Key } from '../utils/key';\nimport { getPlainText, isDOMText } from '../utils/dom';\nimport { findCurrentLineRange } from '../utils/lines';\n\nexport const withAngular = <T extends Editor>(editor: T) => {\n  const e = editor as T & AngularEditor;\n  const { apply, onChange, deleteBackward } = e;\n\n  e.onChange = () => {\n    const onContextChange = EDITOR_TO_ON_CHANGE.get(e);\n    if (onContextChange) {\n      onContextChange();\n    }\n    onChange();\n  };\n\n  e.insertData = (data: DataTransfer) => {\n    const fragment = data.getData(`application/x-slate-fragment`);\n    if (fragment) {\n      const decoded = decodeURIComponent(window.atob(fragment));\n      const parsed = JSON.parse(decoded) as Node[];\n      e.insertFragment(parsed);\n      return;\n    }\n\n    const text = data.getData('text/plain');\n\n    if (text) {\n      const lines = text.split(/\\r\\n|\\r|\\n/);\n      let split = false;\n\n      for (const line of lines) {\n        if (split) {\n          Transforms.splitNodes(e, { always: true });\n        }\n\n        e.insertText(line);\n        split = true;\n      }\n    }\n  };\n\n  e.apply = (op: Operation) => {\n    const matches: [Path, Key][] = [];\n\n    switch (op.type) {\n      case 'insert_text':\n      case 'remove_text':\n      case 'set_node': {\n        for (const [node, path] of Editor.levels(e, { at: op.path })) {\n          const key = AngularEditor.findKey(e, node);\n          matches.push([path, key]);\n        }\n\n        break;\n      }\n\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node': {\n        for (const [node, path] of Editor.levels(e, {\n          at: Path.parent(op.path)\n        })) {\n          const key = AngularEditor.findKey(e, node);\n          matches.push([path, key]);\n        }\n\n        break;\n      }\n\n      case 'move_node': {\n        for (const [node, path] of Editor.levels(e, {\n          at: Path.common(Path.parent(op.path), Path.parent(op.newPath))\n        })) {\n          const key = AngularEditor.findKey(e, node);\n          matches.push([path, key]);\n        }\n        break;\n      }\n    }\n\n    apply(op);\n\n    for (const [path, key] of matches) {\n      const [node] = Editor.node(e, path);\n      NODE_TO_KEY.set(node, key);\n    }\n  };\n\n  e.deleteBackward = unit => {\n    if (unit !== 'line') {\n      return deleteBackward(unit);\n    }\n\n    if (editor.selection && Range.isCollapsed(editor.selection)) {\n      const parentBlockEntry = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: editor.selection,\n      });\n\n      if (parentBlockEntry) {\n        const [, parentBlockPath] = parentBlockEntry;\n        const parentElementRange = Editor.range(\n          editor,\n          parentBlockPath,\n          editor.selection.anchor\n        );\n\n        const currentLineRange = findCurrentLineRange(e, parentElementRange);\n\n        if (!Range.isCollapsed(currentLineRange)) {\n          Transforms.delete(editor, { at: currentLineRange });\n        }\n      }\n    }\n  };\n\n  e.setFragmentData = (data: Pick<DataTransfer, 'getData' | 'setData'>) => {\n    const { selection } = e;\n\n    if (!selection) {\n      return;\n    }\n\n    const [start, end] = Range.edges(selection);\n    const startVoid = Editor.void(e, { at: start.path });\n    const endVoid = Editor.void(e, { at: end.path });\n\n    if (Range.isCollapsed(selection) && !startVoid) {\n      return;\n    }\n\n    // Create a fake selection so that we can add a Base64-encoded copy of the\n    // fragment to the HTML, to decode on future pastes.\n    const domRange = AngularEditor.toDOMRange(e, selection);\n    let contents = domRange.cloneContents();\n    let attach = contents.childNodes[0] as HTMLElement;\n\n    // Make sure attach is non-empty, since empty nodes will not get copied.\n    contents.childNodes.forEach(node => {\n      if (node.textContent && node.textContent.trim() !== '') {\n        attach = node as HTMLElement;\n      }\n    });\n\n    // COMPAT: If the end node is a void node, we need to move the end of the\n    // range from the void node's spacer span, to the end of the void node's\n    // content, since the spacer is before void's content in the DOM.\n    if (endVoid) {\n      const [voidNode] = endVoid;\n      const r = domRange.cloneRange();\n      const domNode = AngularEditor.toDOMNode(e, voidNode);\n      r.setEndAfter(domNode);\n      contents = r.cloneContents();\n    }\n\n    // COMPAT: If the start node is a void node, we need to attach the encoded\n    // fragment to the void node's content node instead of the spacer, because\n    // attaching it to empty `<div>/<span>` nodes will end up having it erased by\n    // most browsers. (2018/04/27)\n    if (startVoid) {\n      attach = contents.querySelector('[data-slate-spacer]')! as HTMLElement;\n    }\n\n    // Remove any zero-width space spans from the cloned DOM so that they don't\n    // show up elsewhere when pasted.\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(\n      zw => {\n        const isNewline = zw.getAttribute('data-slate-zero-width') === 'n';\n        zw.textContent = isNewline ? '\\n' : '';\n      }\n    );\n\n    // Set a `data-slate-fragment` attribute on a non-empty node, so it shows up\n    // in the HTML, and can be used for intra-Slate pasting. If it's a text\n    // node, wrap it in a `<span>` so we have something to set an attribute on.\n    if (isDOMText(attach)) {\n      const span = document.createElement('span');\n      // COMPAT: In Chrome and Safari, if we don't add the `white-space` style\n      // then leading and trailing spaces will be ignored. (2017/09/21)\n      span.style.whiteSpace = 'pre';\n      span.appendChild(attach);\n      contents.appendChild(span);\n      attach = span;\n    }\n\n    const fragment = e.getFragment();\n    const string = JSON.stringify(fragment);\n    const encoded = window.btoa(encodeURIComponent(string));\n    attach.setAttribute('data-slate-fragment', encoded);\n    data.setData('application/x-slate-fragment', encoded);\n\n    // Add the content to a <div> so that we can get its inner HTML.\n    const div = document.createElement('div');\n    div.appendChild(contents);\n    div.setAttribute('hidden', 'true');\n    document.body.appendChild(div);\n    data.setData('text/html', div.innerHTML);\n    data.setData('text/plain', getPlainText(div));\n    document.body.removeChild(div);\n    return data;\n  };\n\n  return e;\n};\n\n","import { Component, OnInit } from '@angular/core';\nimport { createEditor, Element as SlateElement, Editor, Range, Point, Transforms, Descendant } from 'slate';\nimport { RegistryNsElement, NsEditorService, withAngular, NsDepsService } from 'slate-ng-view';\nimport { withHistory } from 'slate-history';\nimport { CheckListItemComponent } from './check-list-item/check-list-item.component';\n\nconst withChecklists = editor => {\n  const { deleteBackward } = editor;\n\n  editor.deleteBackward = (...args) => {\n    const { selection } = editor;\n\n    if (selection && Range.isCollapsed(selection)) {\n      const [match] = Editor.nodes(editor, {\n        match: n =>\n          !Editor.isEditor(n) &&\n          SlateElement.isElement(n) &&\n          (n as any).type === 'check-list-item'\n      });\n\n      if (match) {\n        const [, path] = match;\n        const start = Editor.start(editor, path);\n\n        if (Point.equals(selection.anchor, start)) {\n          const newProperties: Partial<SlateElement & { type: any }> = {\n            type: 'paragraph'\n          };\n          Transforms.setNodes(editor, newProperties, {\n            match: n =>\n              !Editor.isEditor(n) &&\n              SlateElement.isElement(n) &&\n              (n as any).type === 'check-list-item'\n          });\n          return;\n        }\n      }\n    }\n\n    deleteBackward(...args);\n  };\n\n  return editor;\n};\n\n@Component({\n  selector: 'app-check-list',\n  templateUrl: './check-list.component.html',\n  styleUrls: ['./check-list.component.less'],\n  providers: [RegistryNsElement, NsDepsService, NsEditorService]\n})\nexport class CheckListComponent implements OnInit {\n  initialValue: any[] = [\n    {\n      type: 'paragraph',\n      children: [\n        {\n          text:\n            'With Slate you can build complex block types that have their own embedded content and behaviors, like rendering checkboxes inside check list items!'\n        }\n      ]\n    },\n    {\n      type: 'check-list-item',\n      checked: true,\n      children: [{ text: 'Slide to the left.' }]\n    },\n    {\n      type: 'check-list-item',\n      checked: true,\n      children: [{ text: 'Slide to the right.' }]\n    },\n    {\n      type: 'check-list-item',\n      checked: false,\n      children: [{ text: 'Criss-cross.' }]\n    },\n    {\n      type: 'check-list-item',\n      checked: true,\n      children: [{ text: 'Criss-cross!' }]\n    },\n    {\n      type: 'check-list-item',\n      checked: false,\n      children: [{ text: 'Cha cha real smooth' }]\n    },\n    {\n      type: 'check-list-item',\n      checked: false,\n      children: [{ text: 'Let\\'s go to work!' }]\n    },\n    {\n      type: 'paragraph',\n      children: [{ text: 'Try it out for yourself!' }]\n    }\n  ];\n\n  editor = withChecklists(withHistory(withAngular(createEditor())));\n\n  constructor(\n    private customElementService: RegistryNsElement,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.customElementService.add([CheckListItemComponent]);\n  }\n\n}\n","<div\n  ns-editor\n  [editor]=\"editor\"\n  [value]=\"initialValue\"\n  placeholder=\"Get to work\"\n  spellCheck\n  autoFocus\n>\n</div>\n","import { DOCUMENT } from \"@angular/common\";\nimport { Inject, Injectable } from \"@angular/core\";\nimport {\n  angular_packages_platform_browser_platform_browser_g as EventManagerPlugin\n} from \"@angular/platform-browser\";\nimport { IS_CHROME_LEGACY, IS_EDGE_LEGACY } from \"../../utils/environment\";\nimport { extractBeforeInputEvent } from \"./extract-event\";\n\n// COMPAT: Firefox/Edge Legacy don't support the `beforeinput` event\n// Chrome Legacy doesn't support `beforeinput` correctly\nexport const HAS_BEFORE_INPUT_SUPPORT =\n  !IS_CHROME_LEGACY &&\n  !IS_EDGE_LEGACY &&\n  globalThis.InputEvent &&\n  // @ts-ignore The `getTargetRanges` property isn't recognized.\n  typeof globalThis.InputEvent.prototype.getTargetRanges === \"function\";\n\nexport const BEFORE_INPUT_EVENTS: { name: string, handler: string, isTriggerBeforeInput: boolean }[] = [\n  // { name: 'blur', handler: 'onBlur', isTriggerBeforeInput: true },\n  // { name: 'compositionstart', handler: 'onCompositionStart', isTriggerBeforeInput: true },\n  { name: \"compositionupdate\", handler: null, isTriggerBeforeInput: true },\n  // { name: 'compositionend', handler: 'onCompositionEnd', isTriggerBeforeInput: false },\n  // { name: 'keydown', handler: 'onKeyDown', isTriggerBeforeInput: true },\n  { name: \"keypress\", handler: null, isTriggerBeforeInput: true },\n  { name: \"keyup\", handler: \"onKeyUp\", isTriggerBeforeInput: true },\n  { name: \"mousedown\", handler: \"onMouseDown\", isTriggerBeforeInput: true },\n  { name: \"textInput\", handler: null, isTriggerBeforeInput: true }\n  // { name: 'paste', handler: 'onPaste', isTriggerBeforeInput: true }\n];\n\n@Injectable()\nexport class BeforeInputEventPlugin extends EventManagerPlugin {\n  readonly EVENT_NAME = \"beforeinput\";\n\n  constructor(@Inject(DOCUMENT) doc: any) {\n    super(doc);\n  }\n\n  // This plugin should come last in the list of plugins, because it accepts all\n  // events.\n  supports(eventName: string): boolean {\n    return eventName === this.EVENT_NAME;\n  }\n\n  addEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    const mulListeners: Array<{ eventName: string, handler: EventListener }> = [];\n    if (HAS_BEFORE_INPUT_SUPPORT) {\n      element.addEventListener(eventName, handler as EventListener, false);\n      mulListeners.push({ eventName, handler: handler as EventListener });\n    } else {\n      BEFORE_INPUT_EVENTS.forEach(event => {\n        const eventHandler: EventListener = (e) => {\n          const beforeInputEvent = extractBeforeInputEvent(e.type, null, e, e.target);\n          if (beforeInputEvent) {\n            handler(beforeInputEvent);\n          }\n        }\n        element.addEventListener(event.name, eventHandler, false)\n        mulListeners.push({ eventName: event.name, handler: eventHandler });\n      });\n    }\n    return () => {\n      mulListeners.forEach(listener => {\n        this.removeEventListener(element, listener.eventName, listener.handler);\n      });\n    };\n  }\n\n  removeEventListener(target: any, eventName: string, callback: Function): void {\n    return target.removeEventListener(eventName, callback as EventListener);\n  }\n}\n","/**\n * Utilities for single-line deletion\n */\n\nimport { Range, Editor } from 'slate'\nimport { AngularEditor } from \"../plugins/angular-editor\";\n\nconst doRectsIntersect = (rect: DOMRect, compareRect: DOMRect) => {\n  const middle = (compareRect.top + compareRect.bottom) / 2\n\n  return rect.top <= middle && rect.bottom >= middle\n}\n\nconst areRangesSameLine = (\n  editor: AngularEditor,\n  range1: Range,\n  range2: Range\n) => {\n  const rect1 = AngularEditor.toDOMRange(editor, range1).getBoundingClientRect()\n  const rect2 = AngularEditor.toDOMRange(editor, range2).getBoundingClientRect()\n\n  return doRectsIntersect(rect1, rect2) && doRectsIntersect(rect2, rect1)\n}\n\n/**\n * A helper utility that returns the end portion of a `Range`\n * which is located on a single line.\n *\n * @param {Editor} editor The editor object to compare against\n * @param {Range} parentRange The parent range to compare against\n * @returns {Range} A valid portion of the parentRange which is one a single line\n */\nexport const findCurrentLineRange = (\n  editor: AngularEditor,\n  parentRange: Range\n): Range => {\n  const parentRangeBoundary = Editor.range(editor, Range.end(parentRange))\n  const positions = Array.from(Editor.positions(editor, { at: parentRange }))\n\n  let left = 0\n  let right = positions.length\n  let middle = Math.floor(right / 2)\n\n  if (\n    areRangesSameLine(\n      editor,\n      Editor.range(editor, positions[left]),\n      parentRangeBoundary\n    )\n  ) {\n    return Editor.range(editor, positions[left], parentRangeBoundary)\n  }\n\n  if (positions.length < 2) {\n    return Editor.range(\n      editor,\n      positions[positions.length - 1],\n      parentRangeBoundary\n    )\n  }\n\n  while (middle !== positions.length && middle !== left) {\n    if (\n      areRangesSameLine(\n        editor,\n        Editor.range(editor, positions[middle]),\n        parentRangeBoundary\n      )\n    ) {\n      right = middle\n    } else {\n      left = middle\n    }\n\n    middle = Math.floor((left + right) / 2)\n  }\n\n  return Editor.range(editor, positions[right], parentRangeBoundary)\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  TOP_BLUR,\n  TOP_COMPOSITION_START,\n  TOP_COMPOSITION_END,\n  TOP_COMPOSITION_UPDATE,\n  TOP_KEY_DOWN,\n  TOP_KEY_PRESS,\n  TOP_KEY_UP,\n  TOP_MOUSE_DOWN,\n  TOP_TEXT_INPUT,\n  TOP_PASTE\n} from \"./dom-top-level-event-types\";\nimport {\n  getData as FallbackCompositionStateGetData,\n  reset as FallbackCompositionStateReset,\n  initialize as FallbackCompositionStateInitialize\n} from \"./fallback-composition-state\";\n\nconst canUseDOM: boolean = !!(\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\"\n);\n\n\nconst END_KEYCODES = [9, 13, 27, 32]; // Tab, Return, Esc, Space\nconst START_KEYCODE = 229;\n\nexport const canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window;\n\nlet documentMode = null;\nif (canUseDOM && \"documentMode\" in document) {\n  documentMode = (document as any).documentMode;\n}\n\n// Webkit offers a very useful `textInput` event that can be used to\n// directly represent `beforeInput`. The IE `textinput` event is not as\n// useful, so we don't use it.\nconst canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode;\n\n// In IE9+, we have access to composition events, but the data supplied\n// by the native compositionend event may be incorrect. Japanese ideographic\n// spaces, for instance (\\u3000) are not recorded correctly.\nconst useFallbackCompositionData = canUseDOM && (!canUseCompositionEvent || (documentMode && documentMode > 8 && documentMode <= 11));\n\nconst SPACEBAR_CODE = 32;\nconst SPACEBAR_CHAR = String.fromCharCode(SPACEBAR_CODE);\n\n// Track whether we've ever handled a keypress on the space key.\nlet hasSpaceKeypress = false;\n\n/**\n * Return whether a native keypress event is assumed to be a command.\n * This is required because Firefox fires `keypress` events for key commands\n * (cut, copy, select-all, etc.) even though no character is inserted.\n */\nfunction isKeypressCommand(nativeEvent) {\n  return (\n    (nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) &&\n    // ctrlKey && altKey is equivalent to AltGr, and is not a command.\n    !(nativeEvent.ctrlKey && nativeEvent.altKey)\n  );\n}\n\n/**\n * Does our fallback mode think that this event is the end of composition?\n *\n */\nfunction isFallbackCompositionEnd(topLevelType, nativeEvent) {\n  switch (topLevelType) {\n    case TOP_KEY_UP:\n      // Command keys insert or clear IME input.\n      return END_KEYCODES.indexOf(nativeEvent.keyCode) !== -1;\n    case TOP_KEY_DOWN:\n      // Expect IME keyCode on each keydown. If we get any other\n      // code we must have exited earlier.\n      return nativeEvent.keyCode !== START_KEYCODE;\n    case TOP_KEY_PRESS:\n    case TOP_MOUSE_DOWN:\n    case TOP_BLUR:\n      // Events are not possible without cancelling IME.\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Google Input Tools provides composition data via a CustomEvent,\n * with the `data` property populated in the `detail` object. If this\n * is available on the event object, use it. If not, this is a plain\n * composition event and we have nothing special to extract.\n *\n */\nfunction getDataFromCustomEvent(nativeEvent) {\n  const detail = nativeEvent.detail;\n  if (typeof detail === \"object\" && \"data\" in detail) {\n    return detail.data;\n  }\n  return null;\n}\n\n/**\n * Check if a composition event was triggered by Korean IME.\n * Our fallback mode does not work well with IE's Korean IME,\n * so just use native composition events when Korean IME is used.\n * Although CompositionEvent.locale property is deprecated,\n * it is available in IE, where our fallback mode is enabled.\n *\n */\nfunction isUsingKoreanIME(nativeEvent) {\n  return nativeEvent.locale === \"ko\";\n}\n\n// Track the current IME composition status, if any.\nlet isComposing = false;\n\nfunction getNativeBeforeInputChars(topLevelType: any, nativeEvent) {\n  switch (topLevelType) {\n    case TOP_COMPOSITION_END:\n      return getDataFromCustomEvent(nativeEvent);\n    case TOP_KEY_PRESS:\n      /**\n       * If native `textInput` events are available, our goal is to make\n       * use of them. However, there is a special case: the spacebar key.\n       * In Webkit, preventing default on a spacebar `textInput` event\n       * cancels character insertion, but it *also* causes the browser\n       * to fall back to its default spacebar behavior of scrolling the\n       * page.\n       *\n       * Tracking at:\n       * https://code.google.com/p/chromium/issues/detail?id=355103\n       *\n       * To avoid this issue, use the keypress event as if no `textInput`\n       * event is available.\n       */\n      const which = nativeEvent.which;\n      if (which !== SPACEBAR_CODE) {\n        return null;\n      }\n\n      hasSpaceKeypress = true;\n      return SPACEBAR_CHAR;\n\n    case TOP_TEXT_INPUT:\n      // Record the characters to be added to the DOM.\n      const chars = nativeEvent.data;\n\n      // If it's a spacebar character, assume that we have already handled\n      // it at the keypress level and bail immediately. Android Chrome\n      // doesn't give us keycodes, so we need to ignore it.\n      if (chars === SPACEBAR_CHAR && hasSpaceKeypress) {\n        return null;\n      }\n\n      return chars;\n\n    default:\n      // For other native event types, do nothing.\n      return null;\n  }\n}\n\n/**\n * For browsers that do not provide the `textInput` event, extract the\n * appropriate string to use for SyntheticInputEvent.\n */\nfunction getFallbackBeforeInputChars(topLevelType: any, nativeEvent) {\n  // If we are currently composing (IME) and using a fallback to do so,\n  // try to extract the composed characters from the fallback object.\n  // If composition event is available, we extract a string only at\n  // compositionevent, otherwise extract it at fallback events.\n  if (isComposing) {\n    if (topLevelType === TOP_COMPOSITION_END || (!canUseCompositionEvent && isFallbackCompositionEnd(topLevelType, nativeEvent))) {\n      const chars = FallbackCompositionStateGetData();\n      FallbackCompositionStateReset();\n      isComposing = false;\n      return chars;\n    }\n    return null;\n  }\n\n  switch (topLevelType) {\n    case TOP_PASTE:\n      // If a paste event occurs after a keypress, throw out the input\n      // chars. Paste events should not lead to BeforeInput events.\n      return null;\n    case TOP_KEY_PRESS:\n      /**\n       * As of v27, Firefox may fire keypress events even when no character\n       * will be inserted. A few possibilities:\n       *\n       * - `which` is `0`. Arrow keys, Esc key, etc.\n       *\n       * - `which` is the pressed key code, but no char is available.\n       *   Ex: 'AltGr + d` in Polish. There is no modified character for\n       *   this key combination and no character is inserted into the\n       *   document, but FF fires the keypress for char code `100` anyway.\n       *   No `input` event will occur.\n       *\n       * - `which` is the pressed key code, but a command combination is\n       *   being used. Ex: `Cmd+C`. No character is inserted, and no\n       *   `input` event will occur.\n       */\n      if (!isKeypressCommand(nativeEvent)) {\n        // IE fires the `keypress` event when a user types an emoji via\n        // Touch keyboard of Windows.  In such a case, the `char` property\n        // holds an emoji character like `\\uD83D\\uDE0A`.  Because its length\n        // is 2, the property `which` does not represent an emoji correctly.\n        // In such a case, we directly return the `char` property instead of\n        // using `which`.\n        if (nativeEvent.char && nativeEvent.char.length > 1) {\n          return nativeEvent.char;\n        } else if (nativeEvent.which) {\n          return String.fromCharCode(nativeEvent.which);\n        }\n      }\n      return null;\n    case TOP_COMPOSITION_END:\n      return useFallbackCompositionData && !isUsingKoreanIME(nativeEvent) ? null : nativeEvent.data;\n    default:\n      return null;\n  }\n}\n\n/**\n * Extract a SyntheticInputEvent for `beforeInput`, based on either native\n * `textInput` or fallback behavior.\n */\nexport function extractBeforeInputEvent(topLevelType, targetInst, nativeEvent, nativeEventTarget) {\n  let chars;\n\n  if (canUseTextInputEvent) {\n    chars = getNativeBeforeInputChars(topLevelType, nativeEvent);\n  } else {\n    chars = getFallbackBeforeInputChars(topLevelType, nativeEvent);\n  }\n\n  // If no characters are being inserted, no BeforeInput event should\n  // be fired.\n  if (!chars) {\n    return null;\n  }\n\n  let beforeInputEvent: any = {};\n  Object.defineProperty(nativeEvent, \"data\", {\n    writable: true\n  });\n  beforeInputEvent = nativeEvent;\n  beforeInputEvent.data = chars;\n\n  return beforeInputEvent as InputEvent;\n}\n\n\n/**\n * Translate native top level events into event types.\n */\nfunction getCompositionEventType(domEventName: string) {\n  switch (domEventName) {\n    case \"compositionstart\":\n      return \"onCompositionStart\";\n    case \"compositionend\":\n      return \"onCompositionEnd\";\n    case \"compositionupdate\":\n      return \"onCompositionUpdate\";\n  }\n}\n\n/**\n * Does our fallback best-guess model think this event signifies that\n * composition has begun?\n */\nfunction isFallbackCompositionStart(\n  domEventName: string,\n  nativeEvent: any\n): boolean {\n  return domEventName === \"keydown\" && nativeEvent.keyCode === START_KEYCODE;\n}\n\n\n/**\n * @return {?object} A SyntheticCompositionEvent.\n */\nexport function extractCompositionEvent(\n  domEventName,\n  targetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  let eventType;\n  let fallbackData;\n\n  if (canUseCompositionEvent) {\n    eventType = domEventName;\n  } else if (!isComposing) {\n    if (isFallbackCompositionStart(domEventName, nativeEvent)) {\n      eventType = \"compositionstart\";\n    }\n  } else if (isFallbackCompositionEnd(domEventName, nativeEvent)) {\n    eventType = \"compositionend\";\n  }\n\n  if (!eventType) {\n    return null;\n  }\n\n  if (useFallbackCompositionData && !isUsingKoreanIME(nativeEvent)) {\n    // The current composition is stored statically and must not be\n    // overwritten while composition continues.\n    if (!isComposing && eventType === \"compositionstart\") {\n      isComposing = FallbackCompositionStateInitialize(nativeEventTarget);\n    } else if (eventType === \"compositionend\") {\n      if (isComposing) {\n        fallbackData = FallbackCompositionStateGetData();\n      }\n    }\n  }\n\n  let compositionEvent: any = {};\n  Object.defineProperty(nativeEvent, \"data\", {\n    writable: true\n  });\n  compositionEvent = nativeEvent;\n\n  if (fallbackData) {\n    // Inject data generated from fallback path into the synthetic event.\n    // This matches the property of native CompositionEventInterface.\n    compositionEvent.data = fallbackData;\n  } else {\n    const customData = getDataFromCustomEvent(nativeEvent);\n    if (customData !== null) {\n      compositionEvent.data = customData;\n    }\n  }\n\n  return compositionEvent as CompositionEvent;\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { BaseElementComponent, Key, KEY_TOKEN, NsDepsService, NsEditorService } from 'slate-ng-view';\n\n\n@Component({\n  selector: 'table[custom-table]',\n  template: `\n    <tbody nsElementAttrs>\n      <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n        <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n      </ng-container>\n    </tbody>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CustomTable extends BaseElementComponent implements OnInit {\n  static type = 'table';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef\n  ) {\n    super(key, deps, editorService, elementRef, cdr);\n  }\n\n  ngOnInit() {\n    this.init({ useHostAttrs: false });\n    this.watchDeps();\n  }\n}\n\n@Component({\n  selector: 'tr[custom-table-row]',\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CustomTableRow extends BaseElementComponent implements OnInit {\n  static type = 'table-row';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef\n  ) {\n    super(key, deps, editorService, elementRef, cdr);\n  }\n\n  ngOnInit() {\n    this.init();\n    this.watchDeps();\n  }\n}\n\n@Component({\n  selector: 'td[custom-table-cell]',\n  template: `\n    <ng-container *ngFor=\"let portal of portals; trackBy: trackBy\">\n      <ng-template [cdkPortalOutlet]=\"portal\"></ng-template>\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CustomTableCell extends BaseElementComponent implements OnInit {\n  static type = 'table-cell';\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n    public elementRef: ElementRef,\n    public cdr: ChangeDetectorRef\n  ) {\n    super(key, deps, editorService, elementRef, cdr);\n  }\n\n  ngOnInit() {\n    this.init();\n    this.watchDeps();\n  }\n}\n\nexport const CustomTableElements = [CustomTable, CustomTableRow, CustomTableCell];\n","import { AfterViewInit, Component, Inject, OnInit, ViewEncapsulation } from '@angular/core';\nimport { BaseLeafComponent } from 'slate-ng-view';\nimport { LEAF_CHILD_PORTAL_TOKEN, LEAF_TOKEN } from 'slate-ng-view/components/element/token';\nimport { ComponentPortal } from '@angular/cdk/portal';\n\nexport class Node {\n  type: any;\n  next: any;\n  portal: any;\n\n  constructor(type, portal?: any) {\n    this.type = type;\n    this.portal = portal;\n  }\n}\n\n@Component({\n  selector: 'app-custom-leaf',\n  templateUrl: './custom-leaf.component.html',\n  styleUrls: ['./custom-leaf.component.less'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CustomLeafComponent extends BaseLeafComponent implements OnInit {\n  static type = 'leaf';\n  root: Node;\n\n  constructor(\n    @Inject(LEAF_CHILD_PORTAL_TOKEN) readonly leafChild: ComponentPortal<any>,\n    @Inject(LEAF_TOKEN) readonly leaf: any\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    const root = this.root = new Node('container');\n    let current = root;\n\n    if (this.leaf.bold) {\n      const node = new Node('bold');\n      current.next = node;\n      current = node;\n    }\n\n    if (this.leaf.code) {\n      const node = new Node('code');\n      current.next = node;\n      current = node;\n    }\n\n    if (this.leaf.italic) {\n      const node = new Node('italic');\n      current.next = node;\n      current = node;\n    }\n\n    if (this.leaf.underline) {\n      const node = new Node('underline');\n      current.next = node;\n      current = node;\n    }\n\n    current.next = new Node('portal', this.leafChild);\n  }\n}\n","<span [leaf-item]=\"root\"></span>\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeUrl',\n})\nexport class SafeUrlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(value: string): SafeResourceUrl {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n}\n","import { ChangeDetectorRef, ComponentRef, Directive, ElementRef, Inject, OnDestroy, ViewChildren } from \"@angular/core\";\nimport {\n  CHILD_PORTALS_TOKEN,\n  CURRENT_NODE_TOKEN,\n  DECORATIONS_TOKEN,\n  IS_LAST_TOKEN,\n  KEY_TOKEN,\n  PARENT_NODE_TOKEN\n} from \"../element/token\";\nimport { CdkPortalOutlet, ComponentPortal } from '@angular/cdk/portal';\nimport { Key } from \"../../utils/key\";\nimport { ELEMENT_TO_NODE, KEY_TO_ELEMENT, NODE_TO_ELEMENT } from \"../../utils/weak-maps\";\nimport { NsDepsService } from \"../../services/ns-deps.service\";\n\n@Directive()\n// tslint:disable-next-line:directive-class-suffix\nexport abstract class BaseTextComponent implements OnDestroy {\n  @ViewChildren(CdkPortalOutlet) slateChildrenOutlets: CdkPortalOutlet[];\n\n  get depInjector() {\n    return this.deps.get(this.key).injector;\n  }\n\n  get cNode() {\n    return this.depInjector.get(CURRENT_NODE_TOKEN);\n  }\n\n  get decorations() {\n    return this.depInjector.get(DECORATIONS_TOKEN);\n  }\n\n  get isLast() {\n    return this.depInjector.get(IS_LAST_TOKEN);\n  }\n\n  get pNode() {\n    return this.depInjector.get(PARENT_NODE_TOKEN);\n  }\n\n  get portals() {\n    return this.depInjector.get(CHILD_PORTALS_TOKEN);\n  }\n\n  protected constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    protected deps: NsDepsService,\n    protected elementRef: ElementRef,\n    protected cdr?: ChangeDetectorRef,\n  ) {\n  }\n\n  /**\n   * \n   * @param el ElementRef\n   */\n  init(el?: ElementRef) {\n    const nativeElement = el?.nativeElement || this.elementRef.nativeElement;\n    KEY_TO_ELEMENT.set(this.key, nativeElement);\n    NODE_TO_ELEMENT.set(this.cNode, nativeElement);\n    ELEMENT_TO_NODE.set(nativeElement, this.cNode);\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    KEY_TO_ELEMENT.delete(this.key);\n    NODE_TO_ELEMENT.delete(this.cNode);\n  }\n\n  /**\n   * componentPortal \n   * @param index\n   * @param item\n   */\n  trackBy(index, item: ComponentPortal<any>) {\n    return this.key?.id || index;\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n}\n","import { Component, HostBinding, Inject, OnInit } from \"@angular/core\";\nimport { ComponentPortal } from \"@angular/cdk/portal\";\nimport { BaseLeafComponent, LEAF_CHILD_PORTAL_TOKEN, LEAF_TOKEN } from \"slate-ng-view\";\n\n\n@Component({\n  selector: 'span[app-custom-leaf]',\n  template: `\n    <ng-template [cdkPortalOutlet]=\"leafChild\"></ng-template>\n  `\n})\nexport class MarkdownLeafComponent extends BaseLeafComponent implements OnInit {\n  static type = \"leaf\";\n\n  @HostBinding('style')\n  get customStyle() {\n    let style = `\n      font-weight: ${this.leaf.bold && 'bold'};\n      font-style: ${this.leaf.italic && 'italic'};\n      text-decoration: ${this.leaf.underlined && 'underline'};\n    `;\n\n    if (this.leaf.title) {\n      style += `\n         display: inline-block;\n         font-weight: bold;\n         font-size: 20px;\n         margin: 20px 0 10px 0;\n      `\n    }\n\n    if (this.leaf.list) {\n      style += `\n         padding-left: 10px;\n            font-size: 20px;\n            line-height: 10px;\n      `\n    }\n\n    if (this.leaf.hr) {\n      style += `\n        display: block;\n            text-align: center;\n            border-bottom: 2px solid #ddd;\n      `\n    }\n\n    if (this.leaf.blockquote) {\n      style += `\n      display: inline-block;\n            border-left: 2px solid #ddd;\n            padding-left: 10px;\n            color: #aaa;\n            font-style: italic;\n      `\n    }\n\n    if (this.leaf.code) {\n      style += `\n       font-family: monospace;\n            background-color: #eee;\n            padding: 3px;\n      `\n    }\n\n    return style;\n  }\n\n  constructor(\n    @Inject(LEAF_CHILD_PORTAL_TOKEN) readonly leafChild: ComponentPortal<any>,\n    @Inject(LEAF_TOKEN) readonly leaf: any\n  ) {\n    super()\n  }\n\n  ngOnInit(): void {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CheckListComponent } from \"./examples/check-list/check-list.component\";\nimport { RichTextComponent } from \"./examples/rich-text/rich-text.component\";\nimport { CodeHighlightingComponent } from \"./examples/code-highlighting/code-highlighting.component\";\nimport { EditableVoidsComponent } from \"./examples/editable-voids/editable-voids.component\";\nimport { MarkdownPreviewComponent } from \"./examples/markdown-preview/markdown-preview.component\";\nimport { CustomPlaceholderComponent } from \"./examples/custom-placeholder/custom-placeholder.component\";\nimport { EmbedsComponent } from \"./examples/embeds/embeds.component\";\nimport { ForcedLayoutComponent } from \"./examples/forced-layout/forced-layout.component\";\nimport { HugeDocumentComponent } from \"./examples/huge-document/huge-document.component\";\nimport { HoveringToolbarComponent } from \"./examples/hovering-toolbar/hovering-toolbar.component\";\nimport { IframeComponent } from \"./examples/iframe/iframe.component\";\nimport { TableComponent } from \"./examples/table/table.component\";\nimport { MarkdownShortcutsComponent } from \"./examples/markdown-shortcuts/markdown-shortcuts.component\";\n\nexport const routes: Routes = [\n  {\n    path: 'check-list',\n    component: CheckListComponent,\n  },\n  {\n    path: 'richtext',\n    component: RichTextComponent,\n  },\n  {\n    path: 'code-highlighting',\n    component: CodeHighlightingComponent\n  },\n  {\n    path: 'editable-voids',\n    component: EditableVoidsComponent\n  },\n  {\n    path: 'markdown-preview',\n    component: MarkdownPreviewComponent\n  },\n  {\n    path: 'custom-placeholder',\n    component: CustomPlaceholderComponent\n  },\n  {\n    path: 'embeds',\n    component: EmbedsComponent\n  },\n  {\n    path: 'forced-layout',\n    component: ForcedLayoutComponent\n  },\n  {\n    path: 'huge-document',\n    component: HugeDocumentComponent\n  },\n  {\n    path: 'hovering-toolbar',\n    component: HoveringToolbarComponent\n  },\n  {\n    path: 'iframe',\n    component: IframeComponent\n  },\n  {\n    path: 'tables',\n    component: TableComponent\n  },\n  {\n    path: 'markdown-shortcuts',\n    component: MarkdownShortcutsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import {\n  Component,\n  Input, Output,\n  EventEmitter\n} from '@angular/core';\n\n@Component({\n  selector: 'app-icon-button',\n  templateUrl: './icon-button.component.html',\n  styleUrls: ['./icon-button.component.less']\n})\nexport class IconButtonComponent {\n  @Input() icon: any;\n  @Input() isActive = false;\n  @Output() onMouseDown = new EventEmitter();\n\n  handle($event: any) {\n    $event.preventDefault();\n    this.onMouseDown.emit();\n  }\n}\n","<app-button\n  [active]=\"isActive\"\n  (onMouseDown)=\"handle($event)\"\n>\n  <app-icon>{{icon}}</app-icon>\n</app-button>\n","import { Injectable } from '@angular/core';\nimport { AngularEditor } from \"../plugins/angular-editor\";\nimport { Descendant } from \"slate\";\nimport { SlateNgModule } from \"../slate-ng.module\";\n\n@Injectable()\nexport class NsEditorService {\n  editor: AngularEditor\n  defaultValue = [\n    {\n      type: \"paragraph\",\n      children: [{ text: '' }],\n    }\n  ]\n\n  constructor() { }\n\n  init(editor: AngularEditor, value: Descendant[]) {\n    this.editor = editor;\n    this.editor.children = value;\n    return this.editor;\n  }\n}\n","import { Directive, HostBinding } from \"@angular/core\";\n\n@Directive({\n  selector: '[nsLeafAttrs]'\n})\nexport class LeafAttrsDirective {\n  @HostBinding('attr.data-slate-leaf') dataSlateLeaf = true;\n\n  constructor() { }\n\n}\n","import { Injectable, Injector } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\nimport { filter } from \"rxjs/operators\";\n\n@Injectable()\nexport class NsDepsService {\n  deps = new WeakMap();\n  private change$$ = new Subject();\n\n  watch(key) {\n    return this.change$$.asObservable().pipe(filter(k => k === key));\n  }\n\n  set(key, injector) {\n    this.deps.set(key, {\n      needUpdate: true,\n      injector\n    });\n    this.change$$.next(key);\n  }\n\n  get(key) {\n    return {\n      ...this.deps.get(key),\n      dispose: () => {\n        this.deps[key].needUpdate = false;\n      }\n    };\n  }\n}\n","import { Directive, HostBinding, Inject, OnInit } from \"@angular/core\";\nimport { CURRENT_NODE_TOKEN, KEY_TOKEN } from \"../components/element/token\";\nimport { Key } from \"../utils/key\";\nimport { NsDepsService } from \"../services/ns-deps.service\";\nimport { NsEditorService } from \"../services/ns-editor.service\";\nimport { Editor, Node } from \"slate\";\nimport getDirection from \"direction\";\n\n@Directive({\n  selector: '[nsElementAttrs]'\n})\nexport class ElementAttrsDirective implements OnInit {\n  @HostBinding(\"attr.data-slate-node\") dataSlateNode = \"element\";\n  @HostBinding(\"attr.data-slate-void\")  dataSlateVoid = undefined;\n  @HostBinding(\"attr.data-slate-inline\") dataSlateInline = undefined;\n  @HostBinding(\"attr.contenteditable\") contentEditable = undefined;\n  @HostBinding(\"attr.dir\")  dir = undefined;\n\n  get injector() {\n    return this.deps.get(this.key)?.injector;\n  }\n\n  get cNode() {\n    return this.injector.get(CURRENT_NODE_TOKEN);\n  }\n\n  constructor(\n    @Inject(KEY_TOKEN) readonly key: Key,\n    public deps: NsDepsService,\n    public editorService: NsEditorService,\n  ) { }\n\n  ngOnInit() {\n    const editor = this.editorService.editor;\n    console.log(editor);\n    const isInline = editor.isInline(this.cNode);\n    isInline && (this.dataSlateInline = true);\n\n    if (!isInline && Editor.hasInlines(editor, this.cNode)) {\n      const text = Node.string(this.cNode);\n      const dir = getDirection(text);\n\n      if (dir === \"rtl\") {\n        this.dir = dir;\n      }\n    }\n    if (Editor.isVoid(editor, this.cNode)) {\n      this.dataSlateVoid = true;\n\n      if (isInline) {\n        this.contentEditable = false;\n      }\n    }\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}